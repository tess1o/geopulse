"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[9888],{4251:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"user-guide/timeline/data_gaps","title":"Data Gaps & Gap Stay Inference","description":"How GeoPulse handles missing GPS data and intelligently infers stays during gaps.","source":"@site/docs/user-guide/timeline/data_gaps.md","sourceDirName":"user-guide/timeline","slug":"/user-guide/timeline/data_gaps","permalink":"/geopulse/docs/user-guide/timeline/data_gaps","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Data Gaps & Gap Stay Inference","description":"How GeoPulse handles missing GPS data and intelligently infers stays during gaps."},"sidebar":"docsSidebar","previous":{"title":"Travel Classification","permalink":"/geopulse/docs/user-guide/timeline/travel_classification"},"next":{"title":"Importing & Exporting Data","permalink":"/geopulse/docs/user-guide/interacting-with-data/import-export"}}');var t=i(4848),s=i(8453);const a={title:"Data Gaps & Gap Stay Inference",description:"How GeoPulse handles missing GPS data and intelligently infers stays during gaps."},l="Data Gaps & Gap Stay Inference",o={},d=[{value:"Overview",id:"overview",level:2},{value:"How Data Gaps Are Detected",id:"how-data-gaps-are-detected",level:2},{value:"Detection Algorithm",id:"detection-algorithm",level:3},{value:"Example Timeline",id:"example-timeline",level:3},{value:"Why Gaps Matter",id:"why-gaps-matter",level:3},{value:"Key Settings Explained",id:"key-settings-explained",level:2},{value:"Data Gap Threshold",id:"data-gap-threshold",level:3},{value:"Minimum Gap Duration",id:"minimum-gap-duration",level:3},{value:"Gap Stay Inference",id:"gap-stay-inference",level:2},{value:"The Problem",id:"the-problem",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Key Conditions",id:"key-conditions",level:3},{value:"Gap Stay Inference Settings",id:"gap-stay-inference-settings",level:2},{value:"Enable Gap Stay Inference",id:"enable-gap-stay-inference",level:3},{value:"Maximum Gap Duration for Inference",id:"maximum-gap-duration-for-inference",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Example 1: Overnight at Home",id:"example-1-overnight-at-home",level:3},{value:"Example 2: Different Location After Gap",id:"example-2-different-location-after-gap",level:3},{value:"Example 3: Gap Too Long",id:"example-3-gap-too-long",level:3},{value:"Example 4: Gap During Trip",id:"example-4-gap-during-trip",level:3},{value:"State Reset on Gaps",id:"state-reset-on-gaps",level:2},{value:"Ongoing Data Gaps",id:"ongoing-data-gaps",level:2},{value:"Example",id:"example",level:3},{value:"Configuration Recommendations",id:"configuration-recommendations",level:2},{value:"For Different Use Cases",id:"for-different-use-cases",level:3},{value:"For Different GPS Sources",id:"for-different-gps-sources",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Problem: Too many data gaps appearing",id:"problem-too-many-data-gaps-appearing",level:3},{value:"Problem: Overnight at home shows as data gap",id:"problem-overnight-at-home-shows-as-data-gap",level:3},{value:"Problem: Wrong location inferred during gap",id:"problem-wrong-location-inferred-during-gap",level:3},{value:"Problem: Gaps during trips create confusing timeline",id:"problem-gaps-during-trips-create-confusing-timeline",level:3},{value:"Problem: Gap between two different locations not detected",id:"problem-gap-between-two-different-locations-not-detected",level:3},{value:"Impact on Timeline Rebuild",id:"impact-on-timeline-rebuild",level:2},{value:"Related Settings",id:"related-settings",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"data-gaps--gap-stay-inference",children:"Data Gaps & Gap Stay Inference"})}),"\n",(0,t.jsxs)(n.p,{children:["GeoPulse tracks your location continuously, but sometimes GPS data stops being collected. This document explains how data gaps are detected, recorded, and how the new ",(0,t.jsx)(n.strong,{children:"Gap Stay Inference"})," feature can intelligently determine what happened during periods of missing data."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"Data Gap"})," occurs when there's a significant time jump between consecutive GPS points, indicating missing location data. This can happen when:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your phone is turned off or in airplane mode"}),"\n",(0,t.jsx)(n.li,{children:"The GPS tracking app is closed or stopped"}),"\n",(0,t.jsx)(n.li,{children:"You're in an area with no cell/GPS signal"}),"\n",(0,t.jsx)(n.li,{children:"Battery saver mode restricts background location"}),"\n",(0,t.jsx)(n.li,{children:"You're indoors where GPS doesn't work well"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:['By default, GeoPulse creates a "Data Gap" event to represent that your location was not tracked during that period. However, with ',(0,t.jsx)(n.strong,{children:"Gap Stay Inference"})," enabled, the system can intelligently determine if you likely stayed at the same location during the gap (e.g., overnight at home) and extend your stay accordingly instead of creating a gap."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"how-data-gaps-are-detected",children:"How Data Gaps Are Detected"}),"\n",(0,t.jsx)(n.h3,{id:"detection-algorithm",children:"Detection Algorithm"}),"\n",(0,t.jsx)(n.p,{children:"For each GPS point received, the system checks the time since the previous point:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Time Delta = Current point timestamp - Previous point timestamp\n\nIf Time Delta > Data Gap Threshold:\n  AND Duration >= Minimum Gap Duration:\n    \u2192 Create Data Gap event\n    \u2192 Reset timeline state\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-timeline",children:"Example Timeline"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"14:00 - GPS point at Home\n14:05 - GPS point at Home (5 min gap - normal)\n14:10 - GPS point at Home (5 min gap - normal)\n------ Phone turned off ------\n18:00 - GPS point at Coffee Shop (3h50m gap)\n\nResult:\n  - Stay: Home (14:00-14:10)\n  - Data Gap: (14:10-18:00)\n  - Stay: Coffee Shop (18:00-...)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"why-gaps-matter",children:"Why Gaps Matter"}),"\n",(0,t.jsx)(n.p,{children:"Without gap detection, the system would:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Draw a straight line from Home to Coffee Shop"}),"\n",(0,t.jsx)(n.li,{children:'Create a 3h50m "trip" that didn\'t happen'}),"\n",(0,t.jsx)(n.li,{children:"Misrepresent your actual activity"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Data gaps preserve timeline integrity by honestly representing unknown periods."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-settings-explained",children:"Key Settings Explained"}),"\n",(0,t.jsx)(n.h3,{id:"data-gap-threshold",children:"Data Gap Threshold"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setting:"})," ",(0,t.jsx)(n.code,{children:"Data Gap Threshold"}),"\n",(0,t.jsx)(n.strong,{children:"Default:"})," 3 hours (10,800 seconds)\n",(0,t.jsx)(n.strong,{children:"Range:"})," 5 minutes - 24 hours"]}),"\n",(0,t.jsx)(n.p,{children:"Time between GPS points that triggers gap detection."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Value"}),(0,t.jsx)(n.th,{children:"Effect"}),(0,t.jsx)(n.th,{children:"Best For"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"5-30 min"})}),(0,t.jsx)(n.td,{children:"Very sensitive"}),(0,t.jsx)(n.td,{children:"High-frequency tracking, research"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"1-3 hours"})}),(0,t.jsx)(n.td,{children:"Balanced"}),(0,t.jsx)(n.td,{children:"Most users"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"6-12 hours"})}),(0,t.jsx)(n.td,{children:"Conservative"}),(0,t.jsx)(n.td,{children:"Irregular GPS sources"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"24 hours"})}),(0,t.jsx)(n.td,{children:"Very conservative"}),(0,t.jsx)(n.td,{children:"Daily check-in style tracking"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Shorter threshold:"})," Catches more gaps but may fragment timeline"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Longer threshold:"})," More continuous timeline but may miss real gaps"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Setting Too Low",type:"warning",children:(0,t.jsx)(n.p,{children:"A threshold under 30 minutes may create many small gaps during normal use, especially if your GPS app doesn't track continuously. The 3-hour default works well for most scenarios."})}),"\n",(0,t.jsx)(n.h3,{id:"minimum-gap-duration",children:"Minimum Gap Duration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setting:"})," ",(0,t.jsx)(n.code,{children:"Minimum Gap Duration"}),"\n",(0,t.jsx)(n.strong,{children:"Default:"})," 30 minutes (1,800 seconds)\n",(0,t.jsx)(n.strong,{children:"Range:"})," 5 minutes - 4 hours"]}),"\n",(0,t.jsx)(n.p,{children:"Minimum duration for a gap to be recorded."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Value"}),(0,t.jsx)(n.th,{children:"Effect"}),(0,t.jsx)(n.th,{children:"Best For"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"5 min"})}),(0,t.jsx)(n.td,{children:"Record all gaps"}),(0,t.jsx)(n.td,{children:"Detailed tracking analysis"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"30 min"})}),(0,t.jsx)(n.td,{children:"Balanced"}),(0,t.jsx)(n.td,{children:"Most users"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"1-2 hours"})}),(0,t.jsx)(n.td,{children:"Only significant gaps"}),(0,t.jsx)(n.td,{children:"Clean timeline view"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"4 hours"})}),(0,t.jsx)(n.td,{children:"Only major gaps"}),(0,t.jsx)(n.td,{children:"Minimal gap entries"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Shorter minimum:"})," More complete record but cluttered timeline"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Longer minimum:"})," Cleaner timeline but small gaps are ignored"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This setting filters out insignificant gaps (like brief connectivity issues) while still recording meaningful periods of missing data."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"gap-stay-inference",children:"Gap Stay Inference"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Gap Stay Inference"})," is a feature that intelligently determines whether you stayed at a location during a data gap. Instead of creating a gap, the system infers that you remained at the previous location."]}),"\n",(0,t.jsx)(n.h3,{id:"the-problem",children:"The Problem"}),"\n",(0,t.jsx)(n.p,{children:"Consider this common scenario:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"20:00 - GPS point at Home\n20:05 - GPS point at Home\n------ Phone overnight (not tracking) ------\n08:00 - GPS point at Home\n\nWithout inference:\n  - Stay: Home (20:00-20:05)\n  - Data Gap: (20:05-08:00) - 12 hours unknown\n  - Stay: Home (08:00-...)\n\nWith inference:\n  - Stay: Home (20:00-08:00) - 12 hour stay\n"})}),"\n",(0,t.jsx)(n.p,{children:"The user was clearly at home overnight, but without inference, this appears as a 12-hour data gap followed by a new stay at the same location."}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(n.p,{children:"When a data gap is detected, the system checks if stay inference should apply:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"1. Is Gap Stay Inference enabled? (default: disabled)\n2. Was user stationary before the gap? (POTENTIAL_STAY or CONFIRMED_STAY)\n3. Is gap duration \u2264 Maximum Gap Duration for Inference?\n4. Is the new point within stay radius of the previous location?\n\nIf ALL conditions are true:\n  \u2192 Skip gap creation\n  \u2192 Add new point to existing stay cluster\n  \u2192 Stay continues across the gap\n\nIf ANY condition is false:\n  \u2192 Create normal Data Gap\n  \u2192 Reset timeline state\n"})}),"\n",(0,t.jsx)(n.h3,{id:"key-conditions",children:"Key Conditions"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Must be stationary before gap:"}),"\nInference only applies when you were at a location (stay). If you were traveling (IN_TRIP mode), the gap is created normally because we don't know where you ended up."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Must return to same location:"}),"\nThe new GPS point must be within the stay radius of where you were. If you're at a different location after the gap, a normal gap is created."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Gap must be reasonable duration:"}),"\nGaps longer than the maximum (default 24 hours) create normal gaps. A week-long gap shouldn't be inferred as continuous stay."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"gap-stay-inference-settings",children:"Gap Stay Inference Settings"}),"\n",(0,t.jsx)(n.h3,{id:"enable-gap-stay-inference",children:"Enable Gap Stay Inference"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setting:"})," ",(0,t.jsx)(n.code,{children:"Gap Stay Inference"}),"\n",(0,t.jsx)(n.strong,{children:"Default:"})," Disabled"]}),"\n",(0,t.jsx)(n.p,{children:"Toggle to enable/disable the inference feature."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to enable:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You frequently stay home overnight without GPS tracking"}),"\n",(0,t.jsx)(n.li,{children:"Your GPS app only runs during certain hours"}),"\n",(0,t.jsx)(n.li,{children:"You want continuous stays across predictable gaps"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to keep disabled:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You want explicit record of tracking gaps"}),"\n",(0,t.jsx)(n.li,{children:"You travel frequently and gaps might span different locations"}),"\n",(0,t.jsx)(n.li,{children:"You prefer conservative timeline (only what's directly observed)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"maximum-gap-duration-for-inference",children:"Maximum Gap Duration for Inference"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setting:"})," ",(0,t.jsx)(n.code,{children:"Maximum Gap Duration for Inference"}),"\n",(0,t.jsx)(n.strong,{children:"Default:"})," 24 hours\n",(0,t.jsx)(n.strong,{children:"Range:"})," 1-168 hours (1 week)"]}),"\n",(0,t.jsx)(n.p,{children:"Maximum gap duration that can be inferred as a stay."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Value"}),(0,t.jsx)(n.th,{children:"Effect"}),(0,t.jsx)(n.th,{children:"Best For"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"1-6 hours"})}),(0,t.jsx)(n.td,{children:"Only short gaps"}),(0,t.jsx)(n.td,{children:"Conservative inference"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"12-24 hours"})}),(0,t.jsx)(n.td,{children:"Overnight gaps"}),(0,t.jsx)(n.td,{children:"Most users"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"48-72 hours"})}),(0,t.jsx)(n.td,{children:"Weekend gaps"}),(0,t.jsx)(n.td,{children:"Infrequent tracking"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"168 hours"})}),(0,t.jsx)(n.td,{children:"Week-long gaps"}),(0,t.jsx)(n.td,{children:"Very infrequent tracking"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Shorter duration:"})," More conservative, less risk of wrong inference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Longer duration:"})," Handles longer gaps but higher risk of incorrect inference"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Recommended Setting",type:"tip",children:(0,t.jsxs)(n.p,{children:["For most users, ",(0,t.jsx)(n.strong,{children:"24 hours"})," works well. This covers overnight gaps at home without inferring multi-day gaps that are more likely to involve actual movement."]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,t.jsx)(n.h3,{id:"example-1-overnight-at-home",children:"Example 1: Overnight at Home"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Configuration:\n  Gap Stay Inference: Enabled\n  Max Gap Duration: 24 hours\n\nTimeline:\n  21:00 - At Home, watching TV\n  21:30 - Last GPS point (app stopped for night)\n  ------ 9 hours without tracking ------\n  06:30 - First GPS point (morning)\n  06:35 - At Home, getting ready\n\nDistance check: 06:30 point is 10m from 21:30 centroid (within 50m radius)\n\nResult: Single stay at Home (21:00-06:35)\n  - 9.5 hour continuous stay\n  - No data gap created\n  - Accurately represents that you were home overnight\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-2-different-location-after-gap",children:"Example 2: Different Location After Gap"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Configuration:\n  Gap Stay Inference: Enabled\n  Max Gap Duration: 24 hours\n\nTimeline:\n  20:00 - At Home\n  20:05 - Last GPS point at Home\n  ------ Phone off overnight ------\n  08:00 - First GPS point at Office\n\nDistance check: 08:00 point is 5km from Home centroid (outside 50m radius)\n\nResult:\n  - Stay: Home (20:00-20:05)\n  - Data Gap: (20:05-08:00)\n  - Stay: Office (08:00-...)\n\nInference doesn't apply because you're at a different location.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-3-gap-too-long",children:"Example 3: Gap Too Long"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Configuration:\n  Gap Stay Inference: Enabled\n  Max Gap Duration: 24 hours\n\nTimeline:\n  Friday 18:00 - At Home\n  Friday 18:05 - Last GPS point\n  ------ Weekend without tracking (48+ hours) ------\n  Monday 08:00 - First GPS point at Home\n\nGap Duration: ~62 hours > 24 hour maximum\n\nResult:\n  - Stay: Home (Friday 18:00-18:05)\n  - Data Gap: (Friday 18:05 - Monday 08:00)\n  - Stay: Home (Monday 08:00-...)\n\nInference doesn't apply because gap exceeds maximum duration.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-4-gap-during-trip",children:"Example 4: Gap During Trip"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Configuration:\n  Gap Stay Inference: Enabled\n  Max Gap Duration: 24 hours\n\nTimeline:\n  10:00 - Left Home (trip started)\n  10:15 - Driving on highway\n  10:20 - Last GPS point (battery died)\n  ------ 2 hours without tracking ------\n  12:20 - First GPS point at Restaurant\n\nState before gap: IN_TRIP (not stationary)\n\nResult:\n  - Trip: (10:00-10:20)\n  - Data Gap: (10:20-12:20)\n  - Stay: Restaurant (12:20-...)\n\nInference doesn't apply during trips because we don't know where you ended up.\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"state-reset-on-gaps",children:"State Reset on Gaps"}),"\n",(0,t.jsxs)(n.p,{children:["When a data gap is created (inference doesn't apply), the system performs a ",(0,t.jsx)(n.strong,{children:"complete state reset"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Finalize active event"})," - Complete any in-progress stay or trip"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create gap event"})," - Record the data gap period"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Clear state"})," - Reset mode to UNKNOWN"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Start fresh"})," - Next point begins new detection"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This ensures that gaps provide clean breaks in the timeline without carrying over potentially stale state."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"ongoing-data-gaps",children:"Ongoing Data Gaps"}),"\n",(0,t.jsxs)(n.p,{children:["At the end of timeline generation, the system checks for an ",(0,t.jsx)(n.strong,{children:"ongoing gap"})," from the last GPS point to the current time:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"If (Current time - Last GPS time) > Gap Threshold:\n  AND Duration >= Minimum Gap Duration:\n    \u2192 Create or extend ongoing Data Gap\n"})}),"\n",(0,t.jsx)(n.p,{children:"This shows when tracking has stopped and the current location is unknown."}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Timeline generated at 15:00:\n  Last GPS point: 11:00 at Office\n\nTime since last point: 4 hours > 3 hour threshold\n\nResult:\n  - Stay: Office (09:00-11:00)\n  - Data Gap: (11:00-15:00) - Ongoing\n"})}),"\n",(0,t.jsx)(n.p,{children:"The ongoing gap updates each time the timeline is regenerated until new GPS data arrives."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration-recommendations",children:"Configuration Recommendations"}),"\n",(0,t.jsx)(n.h3,{id:"for-different-use-cases",children:"For Different Use Cases"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Continuous Personal Tracking:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 3 hours (default)\nMinimum Gap Duration: 30 minutes\nGap Stay Inference: Enabled\nMax Gap Duration for Inference: 24 hours\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Business/Fleet Tracking:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 1 hour\nMinimum Gap Duration: 15 minutes\nGap Stay Inference: Disabled (explicit tracking required)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Casual Location Diary:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 6 hours\nMinimum Gap Duration: 1 hour\nGap Stay Inference: Enabled\nMax Gap Duration for Inference: 48 hours\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Research/Analysis:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 30 minutes\nMinimum Gap Duration: 5 minutes\nGap Stay Inference: Disabled (preserve all gaps for analysis)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"for-different-gps-sources",children:"For Different GPS Sources"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Always-on tracking app:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 1-2 hours\nMinimum Gap Duration: 30 minutes\nGap Stay Inference: Enabled\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Battery-conscious tracking:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 6 hours\nMinimum Gap Duration: 1 hour\nGap Stay Inference: Enabled\nMax Gap Duration for Inference: 24 hours\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Manual check-in style:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data Gap Threshold: 24 hours\nMinimum Gap Duration: 4 hours\nGap Stay Inference: Enabled\nMax Gap Duration for Inference: 72 hours\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"problem-too-many-data-gaps-appearing",children:"Problem: Too many data gaps appearing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gap threshold too low"}),"\n",(0,t.jsx)(n.li,{children:"GPS app not tracking continuously"}),"\n",(0,t.jsx)(n.li,{children:"Frequent connectivity issues"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Increase ",(0,t.jsx)(n.strong,{children:"Data Gap Threshold"})," to 6 hours"]}),"\n",(0,t.jsxs)(n.li,{children:["Increase ",(0,t.jsx)(n.strong,{children:"Minimum Gap Duration"})," to 1 hour"]}),"\n",(0,t.jsx)(n.li,{children:"Check GPS app settings for continuous tracking"}),"\n",(0,t.jsxs)(n.li,{children:["Enable ",(0,t.jsx)(n.strong,{children:"Gap Stay Inference"})," if gaps occur at known locations"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"problem-overnight-at-home-shows-as-data-gap",children:"Problem: Overnight at home shows as data gap"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gap Stay Inference is disabled"}),"\n",(0,t.jsx)(n.li,{children:"Max gap duration is too short"}),"\n",(0,t.jsx)(n.li,{children:"Morning GPS point is outside stay radius"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable ",(0,t.jsx)(n.strong,{children:"Gap Stay Inference"})]}),"\n",(0,t.jsxs)(n.li,{children:["Increase ",(0,t.jsx)(n.strong,{children:"Max Gap Duration for Inference"})," to 24 hours"]}),"\n",(0,t.jsx)(n.li,{children:"Check that your GPS accuracy is good enough (point should be within 50m)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"problem-wrong-location-inferred-during-gap",children:"Problem: Wrong location inferred during gap"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"GPS drift caused points to appear at same location"}),"\n",(0,t.jsx)(n.li,{children:"Max gap duration too long"}),"\n",(0,t.jsx)(n.li,{children:"Actually did return to same location by coincidence"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Decrease ",(0,t.jsx)(n.strong,{children:"Max Gap Duration for Inference"})," to 12 hours"]}),"\n",(0,t.jsx)(n.li,{children:"Disable inference if it's causing incorrect timelines"}),"\n",(0,t.jsx)(n.li,{children:"Inference is conservative - it only applies when locations clearly match"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"problem-gaps-during-trips-create-confusing-timeline",children:"Problem: Gaps during trips create confusing timeline"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Normal behavior - gaps during trips should create gaps"}),"\n",(0,t.jsx)(n.li,{children:"Inference correctly doesn't apply during movement"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"This is expected behavior"}),"\n",(0,t.jsx)(n.li,{children:"Gaps during trips protect against false route assumptions"}),"\n",(0,t.jsx)(n.li,{children:"Consider if your GPS tracking should be more continuous during trips"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"problem-gap-between-two-different-locations-not-detected",children:"Problem: Gap between two different locations not detected"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gap duration below threshold"}),"\n",(0,t.jsx)(n.li,{children:"Minimum gap duration not met"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Decrease ",(0,t.jsx)(n.strong,{children:"Data Gap Threshold"})," if gaps should be shorter"]}),"\n",(0,t.jsxs)(n.li,{children:["Decrease ",(0,t.jsx)(n.strong,{children:"Minimum Gap Duration"})]}),"\n",(0,t.jsx)(n.li,{children:"Check actual time between points vs. threshold"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"impact-on-timeline-rebuild",children:"Impact on Timeline Rebuild"}),"\n",(0,t.jsxs)(n.p,{children:["Changing data gap settings triggers a ",(0,t.jsx)(n.strong,{children:"full timeline rebuild"}),":"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What Changes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All gaps are re-evaluated with new thresholds"}),"\n",(0,t.jsx)(n.li,{children:"Inference is applied or removed based on new settings"}),"\n",(0,t.jsx)(n.li,{children:"Stay durations may change when inference is toggled"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What Doesn't Change:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Original GPS data remains intact"}),"\n",(0,t.jsx)(n.li,{children:"Non-gap timeline events maintain their detection parameters"}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Enabling Inference",type:"info",children:(0,t.jsx)(n.p,{children:"When you enable Gap Stay Inference, stays that previously ended at gaps will now extend across those gaps (where conditions are met). This can significantly change stay durations in your historical timeline."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"related-settings",children:"Related Settings"}),"\n",(0,t.jsx)(n.p,{children:"Data gap detection works together with other timeline features:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/user-guide/timeline/stay_detection",children:"Stay Detection"})})," - Gaps reset stay detection state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/user-guide/timeline/trip_detection",children:"Trip Detection"})})," - Gaps reset trip tracking"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/user-guide/core-features/timeline#fine-tuning-your-timeline-key-settings-explained",children:"Timeline Preferences"})})," - Overall timeline configuration"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"Data gaps and gap stay inference handle missing GPS data intelligently:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data gaps"})," honestly represent periods of unknown location"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gap threshold"})," controls when gaps are detected (default 3 hours)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Minimum duration"})," filters out insignificant gaps (default 30 minutes)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gap stay inference"})," infers stays when returning to same location"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Inference conditions"})," ensure conservative, accurate inference"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"By enabling gap stay inference and configuring appropriate thresholds, you can get more accurate continuous stays (like overnight at home) while still preserving the integrity of your timeline when GPS tracking truly stops."}),"\n",(0,t.jsx)(n.admonition,{title:"Best Practice",type:"tip",children:(0,t.jsx)(n.p,{children:"Enable Gap Stay Inference with a 24-hour maximum for most personal tracking use cases. This captures common overnight gaps at home while remaining conservative enough to avoid incorrect inferences for longer gaps."})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);