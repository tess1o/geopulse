"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[5604],{7151:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"user-guide/timeline/trip_detection","title":"Trip Detection","description":"How GeoPulse detects the start and end of trips between locations.","source":"@site/docs/user-guide/timeline/trip_detection.md","sourceDirName":"user-guide/timeline","slug":"/user-guide/timeline/trip_detection","permalink":"/geopulse/docs/user-guide/timeline/trip_detection","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Trip Detection","description":"How GeoPulse detects the start and end of trips between locations."},"sidebar":"docsSidebar","previous":{"title":"Stay Detection","permalink":"/geopulse/docs/user-guide/timeline/stay_detection"},"next":{"title":"Travel Classification","permalink":"/geopulse/docs/user-guide/timeline/travel_classification"}}');var r=i(4848),s=i(8453);const l={title:"Trip Detection",description:"How GeoPulse detects the start and end of trips between locations."},o="Trip Detection",d={},a=[{value:"Overview",id:"overview",level:2},{value:"Trip Lifecycle",id:"trip-lifecycle",level:2},{value:"1. Trip Initiation",id:"1-trip-initiation",level:3},{value:"2. Trip in Progress",id:"2-trip-in-progress",level:3},{value:"3. Trip Termination",id:"3-trip-termination",level:3},{value:"Arrival Detection Algorithm",id:"arrival-detection-algorithm",level:2},{value:"Tier 1: Clear Arrival Detection",id:"tier-1-clear-arrival-detection",level:3},{value:"Tier 2: Sustained Stop Detection",id:"tier-2-sustained-stop-detection",level:3},{value:"Why Two Tiers?",id:"why-two-tiers",level:3},{value:"Understanding the Three Duration Settings",id:"understanding-the-three-duration-settings",level:2},{value:"The Three Parameters",id:"the-three-parameters",level:3},{value:"How They Work Together",id:"how-they-work-together",level:3},{value:"Practical Example",id:"practical-example",level:3},{value:"Why Separate Settings?",id:"why-separate-settings",level:3},{value:"Common Configuration Scenarios",id:"common-configuration-scenarios",level:3},{value:"Key Settings Explained",id:"key-settings-explained",level:2},{value:"Arrival Detection Duration",id:"arrival-detection-duration",level:3},{value:"Sustained Stop Duration",id:"sustained-stop-duration",level:3},{value:"Stop Speed Threshold",id:"stop-speed-threshold",level:3},{value:"Multiple Trip Detection Algorithm",id:"multiple-trip-detection-algorithm",level:2},{value:"Single Trip Algorithm",id:"single-trip-algorithm",level:3},{value:"Multiple Trip Algorithm",id:"multiple-trip-algorithm",level:3},{value:"How Multiple Trip Detection Works",id:"how-multiple-trip-detection-works",level:3},{value:"Step 1: Merge Same-Type Fragments",id:"step-1-merge-same-type-fragments",level:4},{value:"Step 2: Validate Mode Significance",id:"step-2-validate-mode-significance",level:4},{value:"Step 3: Ensure Timeline Continuity",id:"step-3-ensure-timeline-continuity",level:4},{value:"Practical Examples",id:"practical-examples",level:3},{value:"Choosing Between Algorithms",id:"choosing-between-algorithms",level:3},{value:"Short Trip Handling",id:"short-trip-handling",level:2},{value:"Short Distance Threshold",id:"short-distance-threshold",level:3},{value:"Trip Statistics Calculation",id:"trip-statistics-calculation",level:2},{value:"Distance Calculation",id:"distance-calculation",level:3},{value:"Speed Statistics",id:"speed-statistics",level:3},{value:"Duration",id:"duration",level:3},{value:"Common Scenarios",id:"common-scenarios",level:2},{value:"Scenario 1: Drive to Work",id:"scenario-1-drive-to-work",level:3},{value:"Scenario 2: Extended Traffic Stop",id:"scenario-2-extended-traffic-stop",level:3},{value:"Scenario 3: Brief Errand Stop",id:"scenario-3-brief-errand-stop",level:3},{value:"Scenario 4: Walking to Transit",id:"scenario-4-walking-to-transit",level:3},{value:"Configuration Recommendations",id:"configuration-recommendations",level:2},{value:"For Different Use Cases",id:"for-different-use-cases",level:3},{value:"For Different GPS Quality",id:"for-different-gps-quality",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Problem: Trips are split at traffic lights",id:"problem-trips-are-split-at-traffic-lights",level:3},{value:"Problem: Genuine arrivals aren&#39;t detected quickly",id:"problem-genuine-arrivals-arent-detected-quickly",level:3},{value:"Problem: Walking between car and building creates extra trip",id:"problem-walking-between-car-and-building-creates-extra-trip",level:3},{value:"Problem: Trip shows impossible route or distance",id:"problem-trip-shows-impossible-route-or-distance",level:3},{value:"Problem: Trip statistics seem wrong",id:"problem-trip-statistics-seem-wrong",level:3},{value:"Impact on Timeline Rebuild",id:"impact-on-timeline-rebuild",level:2},{value:"Related Settings",id:"related-settings",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"trip-detection",children:"Trip Detection"})}),"\n",(0,r.jsx)(n.p,{children:"GeoPulse uses intelligent algorithms to detect when you're traveling between locations. This document explains how trips are identified, from the moment you start moving to when you arrive at your destination."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"A trip represents movement between two stays. The system must solve two key challenges:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Detecting trip start"})," - When have you actually left a location (not just walking around)?"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Detecting trip end"})," - When have you actually arrived somewhere (not just stopped at a traffic light)?"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The algorithm uses ",(0,r.jsx)(n.strong,{children:"conservative detection"})," to avoid false positives while still capturing genuine arrivals promptly."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"trip-lifecycle",children:"Trip Lifecycle"}),"\n",(0,r.jsx)(n.h3,{id:"1-trip-initiation",children:"1. Trip Initiation"}),"\n",(0,r.jsx)(n.p,{children:"A trip begins when you move away from a stay location:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Current State: CONFIRMED_STAY or POTENTIAL_STAY\nTrigger: GPS point received outside stay radius\n  AND not within same Favorite Area\nResult: Transition to IN_TRIP mode\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The first GPS point outside the stay becomes the ",(0,r.jsx)(n.strong,{children:"trip starting point"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"2-trip-in-progress",children:"2. Trip in Progress"}),"\n",(0,r.jsx)(n.p,{children:"While in trip mode:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each GPS point is added to the active trip"}),"\n",(0,r.jsx)(n.li,{children:"Speed, distance, and duration are tracked"}),"\n",(0,r.jsx)(n.li,{children:"System continuously checks for arrival signals"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-trip-termination",children:"3. Trip Termination"}),"\n",(0,r.jsxs)(n.p,{children:["A trip ends when a ",(0,r.jsx)(n.strong,{children:"sustained stop"})," is detected:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Conditions for sustained stop:\n  - Multiple consecutive GPS points\n  - Points are spatially clustered (within stay radius)\n  - Points show low/zero speed\n  - Duration exceeds threshold\n"})}),"\n",(0,r.jsx)(n.p,{children:"The system then:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Finalizes the trip"}),"\n",(0,r.jsx)(n.li,{children:"Calculates statistics (distance, duration, speeds)"}),"\n",(0,r.jsx)(n.li,{children:"Classifies the trip type (WALK, CAR, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Transitions to POTENTIAL_STAY for next location"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"arrival-detection-algorithm",children:"Arrival Detection Algorithm"}),"\n",(0,r.jsxs)(n.p,{children:["The most critical part of trip detection is knowing when you've truly arrived. The algorithm uses a ",(0,r.jsx)(n.strong,{children:"two-tier approach"})," to balance responsiveness with accuracy."]}),"\n",(0,r.jsx)(n.h3,{id:"tier-1-clear-arrival-detection",children:"Tier 1: Clear Arrival Detection"}),"\n",(0,r.jsx)(n.p,{children:"This catches obvious arrivals where all signals agree:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Conditions (ALL must be true):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"At least 3 recent GPS points available"}),"\n",(0,r.jsx)(n.li,{children:"All points within stay radius of each other (spatially clustered)"}),"\n",(0,r.jsx)(n.li,{children:"All points have speed \u2264 stop speed threshold"}),"\n",(0,r.jsxs)(n.li,{children:["Duration of cluster \u2265 ",(0,r.jsx)(n.strong,{children:"Arrival Detection Duration"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When this triggers:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You've clearly stopped and parked"}),"\n",(0,r.jsx)(n.li,{children:"GPS shows zero or near-zero movement"}),"\n",(0,r.jsx)(n.li,{children:"You've been stationary for sufficient time"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"tier-2-sustained-stop-detection",children:"Tier 2: Sustained Stop Detection"}),"\n",(0,r.jsx)(n.p,{children:"This catches arrivals with less clear signals:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Conditions (ALL must be true):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"At least 2 recent GPS points available"}),"\n",(0,r.jsx)(n.li,{children:"All points have speed below stop threshold"}),"\n",(0,r.jsxs)(n.li,{children:["Duration \u2265 ",(0,r.jsx)(n.strong,{children:"Sustained Stop Duration"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When this triggers:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPS clustering might not be perfect"}),"\n",(0,r.jsx)(n.li,{children:"But speed consistently shows you're stopped"}),"\n",(0,r.jsx)(n.li,{children:"Acts as a fallback when Tier 1 doesn't match"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"why-two-tiers",children:"Why Two Tiers?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Traffic lights and brief stops"]}),"\n",(0,r.jsxs)(n.p,{children:["If the system only used speed to detect stops, every red light would end your trip. By requiring ",(0,r.jsx)(n.strong,{children:"both"})," spatial clustering ",(0,r.jsx)(n.strong,{children:"and"})," low speed ",(0,r.jsx)(n.strong,{children:"and"})," duration, the algorithm filters out:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Traffic light stops (short duration)"}),"\n",(0,r.jsx)(n.li,{children:"Traffic jams where you're technically moving slowly"}),"\n",(0,r.jsx)(n.li,{children:"Brief stops that resume shortly"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"understanding-the-three-duration-settings",children:"Understanding the Three Duration Settings"}),"\n",(0,r.jsx)(n.p,{children:"GeoPulse uses three different duration settings that work together but serve distinct purposes. Understanding how they interact is key to configuring accurate trip detection."}),"\n",(0,r.jsx)(n.h3,{id:"the-three-parameters",children:"The Three Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"When It's Used"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Arrival Detection Duration"})}),(0,r.jsx)(n.td,{children:"90 sec"}),(0,r.jsx)(n.td,{children:"End the trip"}),(0,r.jsx)(n.td,{children:"During trip, to detect you've stopped"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Sustained Stop Duration"})}),(0,r.jsx)(n.td,{children:"60 sec"}),(0,r.jsx)(n.td,{children:"End the trip (fallback)"}),(0,r.jsx)(n.td,{children:"During trip, when clustering isn't perfect"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Minimum Stay Duration"})}),(0,r.jsx)(n.td,{children:"7 min"}),(0,r.jsx)(n.td,{children:"Confirm the stay"}),(0,r.jsx)(n.td,{children:"After trip ends, to validate the location"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"how-they-work-together",children:"How They Work Together"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"DRIVING (IN_TRIP mode)\n    \u2193\nStop at destination (parking lot)\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 TRIP ENDING DETECTION                   \u2502\n\u2502                                         \u2502\n\u2502 Check 1: Arrival Detection              \u2502\n\u2502   - 3+ GPS points clustered together    \u2502\n\u2502   - All showing low/zero speed          \u2502\n\u2502   - Duration \u2265 90 seconds               \u2502\n\u2502                                         \u2502\n\u2502 Check 2: Sustained Stop (fallback)      \u2502\n\u2502   - 2+ GPS points with low speed        \u2502\n\u2502   - Duration \u2265 60 seconds               \u2502\n\u2502                                         \u2502\n\u2502 Either check passing = TRIP ENDS        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\nEnter POTENTIAL_STAY mode\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 STAY CONFIRMATION                       \u2502\n\u2502                                         \u2502\n\u2502 - Continue collecting GPS points        \u2502\n\u2502 - Wait for Minimum Stay Duration (7 min)\u2502\n\u2502 - If you leave before 7 min: new trip   \u2502\n\u2502 - If you stay 7+ min: CONFIRMED_STAY    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\nCONFIRMED_STAY created\n"})}),"\n",(0,r.jsx)(n.h3,{id:"practical-example",children:"Practical Example"}),"\n",(0,r.jsx)(n.p,{children:"You drive to a coffee shop:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"10:00 - Leave home (trip starts)\n10:15 - Arrive at coffee shop parking lot\n10:15 - Park car, GPS shows you stopped\n\nARRIVAL DETECTION PHASE (during trip):\n  10:15:00 - First stationary point\n  10:15:30 - Second stationary point\n  10:16:00 - Third stationary point\n  10:16:30 - 90 seconds elapsed with clustered, slow points\n  \u2192 Trip ENDS, enter POTENTIAL_STAY\n\nSTAY CONFIRMATION PHASE (after trip):\n  10:16:30 - Start of potential stay\n  10:17:00 - Still at location (30 sec)\n  10:20:00 - Still at location (3.5 min)\n  10:23:30 - 7 minutes elapsed\n  \u2192 Stay CONFIRMED\n\nTimeline result:\n  - Trip: Home \u2192 Coffee Shop (10:00-10:16:30)\n  - Stay: Coffee Shop (10:16:30-...)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"why-separate-settings",children:"Why Separate Settings?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Different questions being answered:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arrival Detection (90s):"}),' "Has the vehicle stopped moving?"']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Needs to be long enough to filter traffic lights (~60-90 sec cycles)"}),"\n",(0,r.jsx)(n.li,{children:"But short enough to detect real arrivals promptly"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Minimum Stay Duration (7 min):"}),' "Is this a meaningful location?"']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Needs to be long enough to filter brief stops (gas station drive-through)"}),"\n",(0,r.jsx)(n.li,{children:"But short enough to capture intentional short visits"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example of why both matter:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Scenario: Stop at ATM for 2 minutes\n\n10:00 - Arrive at ATM\n10:01:30 - Arrival detected (90s elapsed) \u2192 Trip ends\n10:02:00 - Leave ATM \u2192 New trip starts\n\nResult: No stay created (2 min < 7 min minimum)\nThe brief ATM stop correctly doesn't clutter your timeline.\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Scenario: Traffic light for 3 minutes\n\n10:00 - Stop at red light\n10:01:30 - 90 seconds elapsed...\n  BUT: Light turns green at 10:02, you start moving\n  \u2192 Arrival detection resets, trip continues\n\nResult: No trip split, continuous journey preserved.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"common-configuration-scenarios",children:"Common Configuration Scenarios"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Want to capture brief stops (like deliveries):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 60s (faster trip ending)\nMinimum Stay Duration: 2-3 min (capture short stops)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Want to avoid trip splits at long traffic lights:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 120s (ignore longer stops)\nMinimum Stay Duration: 7 min (default)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Want only significant locations:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 90s (default)\nMinimum Stay Duration: 15 min (only meaningful stops)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-settings-explained",children:"Key Settings Explained"}),"\n",(0,r.jsx)(n.h3,{id:"arrival-detection-duration",children:"Arrival Detection Duration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," ",(0,r.jsx)(n.code,{children:"Arrival Detection Duration"}),"\n",(0,r.jsx)(n.strong,{children:"Default:"})," 90 seconds\n",(0,r.jsx)(n.strong,{children:"Range:"})," 10-300 seconds"]}),"\n",(0,r.jsx)(n.p,{children:"The minimum time for GPS points to show clustered, slow movement before confirming arrival."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Value"}),(0,r.jsx)(n.th,{children:"Effect"}),(0,r.jsx)(n.th,{children:"Best For"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"10-30s"})}),(0,r.jsx)(n.td,{children:"Very quick arrival detection"}),(0,r.jsx)(n.td,{children:"Not recommended (false arrivals)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"60-90s"})}),(0,r.jsx)(n.td,{children:"Balanced detection"}),(0,r.jsx)(n.td,{children:"Most users"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"120-180s"})}),(0,r.jsx)(n.td,{children:"Conservative detection"}),(0,r.jsx)(n.td,{children:"Highway driving, long trips"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"240-300s"})}),(0,r.jsx)(n.td,{children:"Very conservative"}),(0,r.jsx)(n.td,{children:"Only if getting false arrivals"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shorter duration:"})," Faster detection but may split trips at long traffic stops"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Longer duration:"})," More robust but slower to detect genuine arrivals"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Traffic Light Consideration",type:"tip",children:(0,r.jsx)(n.p,{children:"Default 90 seconds works well because most traffic lights cycle in 60-90 seconds. If you frequently stop at lights longer than this, increase to 120 seconds."})}),"\n",(0,r.jsx)(n.h3,{id:"sustained-stop-duration",children:"Sustained Stop Duration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," ",(0,r.jsx)(n.code,{children:"Sustained Stop Duration"}),"\n",(0,r.jsx)(n.strong,{children:"Default:"})," 60 seconds\n",(0,r.jsx)(n.strong,{children:"Range:"})," 10-600 seconds"]}),"\n",(0,r.jsx)(n.p,{children:"Minimum duration of consistent slow movement for the fallback detection mechanism."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Value"}),(0,r.jsx)(n.th,{children:"Effect"}),(0,r.jsx)(n.th,{children:"Best For"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"10-30s"})}),(0,r.jsx)(n.td,{children:"Very sensitive"}),(0,r.jsx)(n.td,{children:"Not recommended"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"60s"})}),(0,r.jsx)(n.td,{children:"Balanced"}),(0,r.jsx)(n.td,{children:"Most users"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"120-180s"})}),(0,r.jsx)(n.td,{children:"Less sensitive"}),(0,r.jsx)(n.td,{children:"Reduce false arrivals"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"300-600s"})}),(0,r.jsx)(n.td,{children:"Very conservative"}),(0,r.jsx)(n.td,{children:"Highway-focused tracking"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shorter duration:"})," More responsive but more false positives"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Longer duration:"})," More robust but may miss quick turnaround stops"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"stop-speed-threshold",children:"Stop Speed Threshold"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Internal Setting:"})," 2 m/s (7.2 km/h)"]}),"\n",(0,r.jsx)(n.p,{children:'Speed at or below which movement is considered "stopped." This is an internal threshold that balances:'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPS noise (stationary phones often show 1-3 km/h)"}),"\n",(0,r.jsx)(n.li,{children:"Slow walking within a location"}),"\n",(0,r.jsx)(n.li,{children:"Idle vehicle movement"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"multiple-trip-detection-algorithm",children:"Multiple Trip Detection Algorithm"}),"\n",(0,r.jsx)(n.p,{children:"GeoPulse supports two algorithms for detecting trips between stays:"}),"\n",(0,r.jsx)(n.h3,{id:"single-trip-algorithm",children:"Single Trip Algorithm"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," ",(0,r.jsx)(n.code,{children:"Trip Detection Algorithm = single"})]}),"\n",(0,r.jsx)(n.p,{children:"Always creates exactly one trip between two stays."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Movement from Stay A to Stay B = 1 trip"}),"\n",(0,r.jsx)(n.li,{children:"Entire journey gets one classification"}),"\n",(0,r.jsx)(n.li,{children:"Simpler timeline view"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Most users"}),"\n",(0,r.jsx)(n.li,{children:"Clean, simple timelines"}),"\n",(0,r.jsx)(n.li,{children:"When you don't change transport modes mid-journey"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"multiple-trip-algorithm",children:"Multiple Trip Algorithm"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," ",(0,r.jsx)(n.code,{children:"Trip Detection Algorithm = multiple"})]}),"\n",(0,r.jsx)(n.p,{children:"Intelligently detects legitimate mode changes during a journey and creates separate trips for each segment."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Analyzes velocity patterns to detect mode transitions"}),"\n",(0,r.jsx)(n.li,{children:"Walking to car \u2192 driving \u2192 walking from car = 3 trips"}),"\n",(0,r.jsx)(n.li,{children:"Merges fragmented same-mode segments automatically"}),"\n",(0,r.jsx)(n.li,{children:"Only splits when mode changes are significant"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multi-modal commutes (walk \u2192 train \u2192 walk)"}),"\n",(0,r.jsx)(n.li,{children:"Detailed movement analysis"}),"\n",(0,r.jsx)(n.li,{children:"Users who frequently switch transport modes"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"how-multiple-trip-detection-works",children:"How Multiple Trip Detection Works"}),"\n",(0,r.jsx)(n.p,{children:"The algorithm uses sophisticated analysis to distinguish legitimate mode changes from traffic-induced fragmentation:"}),"\n",(0,r.jsx)(n.h4,{id:"step-1-merge-same-type-fragments",children:"Step 1: Merge Same-Type Fragments"}),"\n",(0,r.jsx)(n.p,{children:"First, consecutive trips of the same type are merged to eliminate noise:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Input:  [WALK, WALK, WALK, CAR, CAR, WALK]\nOutput: [WALK, CAR, WALK]\n"})}),"\n",(0,r.jsx)(n.p,{children:"This prevents traffic slowdowns from creating artificial trip fragments."}),"\n",(0,r.jsx)(n.h4,{id:"step-2-validate-mode-significance",children:"Step 2: Validate Mode Significance"}),"\n",(0,r.jsxs)(n.p,{children:["The algorithm then checks if each mode contributes meaningfully to the journey using a ",(0,r.jsx)(n.strong,{children:"15% contribution threshold"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"For mode changes to be kept separate, BOTH modes must contribute:\n  - At least 15% of total distance, OR\n  - At least 15% of total time\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example 1: Legitimate mode change (kept separate)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Journey: Walk 500m (5 min) \u2192 Drive 3km (10 min)\n\nWalking: 500m / 3500m = 14.3% distance, 5min / 15min = 33% time\nDriving: 3000m / 3500m = 85.7% distance, 10min / 15min = 67% time\n\nTime-based check passes (both > 15%)\n\u2192 Result: 2 separate trips (WALK + CAR)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example 2: Traffic fragmentation (merged)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Journey: Drive 2km \u2192 Brief slow segment (50m) \u2192 Drive 3km\n\nWalking segment: 50m / 5050m = 1% distance, minimal time\nDriving: 5000m / 5050m = 99% distance\n\nNeither check passes for walking\n\u2192 Result: 1 merged trip (CAR)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"step-3-ensure-timeline-continuity",children:"Step 3: Ensure Timeline Continuity"}),"\n",(0,r.jsx)(n.p,{children:"The algorithm always ensures at least one trip exists between stays, even if all segments are too short to meet normal thresholds. This preserves timeline integrity."}),"\n",(0,r.jsx)(n.h3,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Morning Commute with Multiple Modes:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"07:00 - Leave home\n07:10 - Walk to train station (800m)\n07:15 - Board train\n07:45 - Arrive at destination station\n07:55 - Walk to office (600m)\n08:00 - Arrive at office\n\nWith Multiple Trip Algorithm:\n  - Trip 1: WALK 10 min, 800m (07:00-07:10)\n  - Stay: Train Station (07:10-07:15)\n  - Trip 2: TRAIN 30 min (07:15-07:45)\n  - Trip 3: WALK 10 min, 600m (07:50-08:00)\n\nWith Single Trip Algorithm:\n  - Trip: Mixed mode, 30+ min (07:00-07:55)\n  - (Train station stay still detected due to 5+ min wait)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parking Lot to Building:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"08:30 - Park car\n08:32 - Walk 200m to office entrance\n\nWalking: 200m (2 min)\nDriving: previous segment\n\nWalking contribution < 15% of journey\n\u2192 Result: Merged into single CAR trip\n  (The brief walk is absorbed, not shown separately)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Drive with Traffic Jam:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"09:00 - Start driving\n09:15 - Heavy traffic (GPS shows walking speeds for 3 min)\n09:18 - Traffic clears\n09:30 - Arrive\n\nThe 3-minute slow segment doesn't meet 15% threshold\n\u2192 Result: Single CAR trip (09:00-09:30)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"choosing-between-algorithms",children:"Choosing Between Algorithms"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Scenario"}),(0,r.jsx)(n.th,{children:"Recommended Algorithm"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Simple car commute"}),(0,r.jsx)(n.td,{children:"Single"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Walk \u2192 Transit \u2192 Walk commute"}),(0,r.jsx)(n.td,{children:"Multiple"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Delivery routes with driving only"}),(0,r.jsx)(n.td,{children:"Single"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Fitness tracking (run + walk intervals)"}),(0,r.jsx)(n.td,{children:"Multiple"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mixed urban transport"}),(0,r.jsx)(n.td,{children:"Multiple"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Long road trips"}),(0,r.jsx)(n.td,{children:"Single"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["If you use public transit or frequently combine walking with other transport modes, the ",(0,r.jsx)(n.strong,{children:"Multiple"})," algorithm will give you more accurate and detailed trip breakdowns. For car-only travel, ",(0,r.jsx)(n.strong,{children:"Single"})," provides a cleaner timeline."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"short-trip-handling",children:"Short Trip Handling"}),"\n",(0,r.jsx)(n.p,{children:"Very short trips receive special treatment to account for GPS limitations."}),"\n",(0,r.jsx)(n.h3,{id:"short-distance-threshold",children:"Short Distance Threshold"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setting:"})," ",(0,r.jsx)(n.code,{children:"Short Trip Distance Threshold"}),"\n",(0,r.jsx)(n.strong,{children:"Default:"})," 1.0 km\n",(0,r.jsx)(n.strong,{children:"Range:"})," 0.1-3.0 km"]}),"\n",(0,r.jsx)(n.p,{children:"Trips shorter than this distance use more lenient speed classification."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why this matters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Short trips have less GPS data"}),"\n",(0,r.jsx)(n.li,{children:"Fewer points = more statistical noise"}),"\n",(0,r.jsx)(n.li,{children:"Speed calculations are less reliable"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Effect:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Walking speed thresholds get a small tolerance boost"}),"\n",(0,r.jsx)(n.li,{children:"Reduces false CAR classifications for brief walks"}),"\n",(0,r.jsx)(n.li,{children:"Accounts for GPS inaccuracies over short distances"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"trip-statistics-calculation",children:"Trip Statistics Calculation"}),"\n",(0,r.jsx)(n.p,{children:"When a trip is finalized, the system calculates detailed statistics:"}),"\n",(0,r.jsx)(n.h3,{id:"distance-calculation",children:"Distance Calculation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Total Distance = Sum of distances between consecutive GPS points\n"})}),"\n",(0,r.jsx)(n.p,{children:"This gives actual traveled distance, not straight-line distance."}),"\n",(0,r.jsx)(n.h3,{id:"speed-statistics",children:"Speed Statistics"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Average Speed:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Average = Mean of all GPS-reported speeds during trip\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Maximum Speed:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Maximum = Highest GPS-reported speed\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Speed Variance:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Variance = Statistical variance of speeds\n(Used to distinguish trains from cars)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"duration",children:"Duration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Duration = Last point timestamp - First point timestamp\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-scenarios",children:"Common Scenarios"}),"\n",(0,r.jsx)(n.h3,{id:"scenario-1-drive-to-work",children:"Scenario 1: Drive to Work"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"08:00 - Leave home (CONFIRMED_STAY \u2192 IN_TRIP)\n08:00-08:30 - Driving with traffic stops\n08:30 - Park at work, walk to building\n08:31 - Arrive at desk\n\nTimeline:\n  - Stay: Home (until 08:00)\n  - Trip: 30 min drive (08:00-08:30)\n  - Stay: Work (from 08:31)\n"})}),"\n",(0,r.jsx)(n.p,{children:"The 1-minute walk from car to desk is typically absorbed into the trip since:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Duration is too short for a separate stay"}),"\n",(0,r.jsx)(n.li,{children:"Arrival detection combines the stop + walk"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scenario-2-extended-traffic-stop",children:"Scenario 2: Extended Traffic Stop"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"09:00 - Driving on highway\n09:15 - Major traffic jam, nearly stopped\n09:18 - Traffic clears, resume driving\n09:30 - Arrive at destination\n\nTimeline:\n  - Trip: 30 min drive (09:00-09:30)\n"})}),"\n",(0,r.jsx)(n.p,{children:"The 3-minute traffic stop doesn't create a stay because:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Duration (3 min) < Arrival Detection Duration (90s minimum, but spatial clustering also required)"}),"\n",(0,r.jsx)(n.li,{children:"Movement resumes before stay conditions are met"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scenario-3-brief-errand-stop",children:"Scenario 3: Brief Errand Stop"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"10:00 - Leave office\n10:10 - Stop at gas station (3 minutes)\n10:13 - Continue to lunch\n10:25 - Arrive at restaurant\n\nTimeline with 7-min minimum stay:\n  - Trip: 25 min drive (10:00-10:25)\n  (Gas station not captured as stay - too short)\n\nTimeline with 3-min minimum stay:\n  - Trip: 10 min (10:00-10:10)\n  - Stay: Gas Station (10:10-10:13)\n  - Trip: 12 min (10:13-10:25)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Configure ",(0,r.jsx)(n.strong,{children:"Minimum Stay Duration"})," based on whether you want brief stops captured."]}),"\n",(0,r.jsx)(n.h3,{id:"scenario-4-walking-to-transit",children:"Scenario 4: Walking to Transit"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"07:00 - Leave home\n07:10 - Arrive at train station\n07:15 - Train departs\n07:45 - Arrive at destination station\n07:50 - Walk to office\n08:00 - Arrive at office\n\nTimeline (with Train enabled):\n  - Trip: WALK 10 min (07:00-07:10)\n  - Stay: Train Station (07:10-07:15)\n  - Trip: TRAIN 30 min (07:15-07:45)\n  - Trip: WALK 10 min (07:50-08:00)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Multiple trips are created because the train station creates an intermediate stay (>5 min wait)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-recommendations",children:"Configuration Recommendations"}),"\n",(0,r.jsx)(n.h3,{id:"for-different-use-cases",children:"For Different Use Cases"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Daily Commuting:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 90s (default)\nSustained Stop Duration: 60s (default)\nTrip Detection Algorithm: single\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Delivery/Field Service:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 60s (faster detection)\nSustained Stop Duration: 45s (quicker arrivals)\nMinimum Stay Duration: 2-3 min (catch brief stops)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Road Trip Tracking:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 120s (avoid rest stop false ends)\nSustained Stop Duration: 90s\nMinimum Stay Duration: 10-15 min (only significant stops)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Multi-Modal Commute:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Trip Detection Algorithm: single (or multiple if you want detail)\nEnable Train, Bicycle as needed\nArrival Detection Duration: 90s\n"})}),"\n",(0,r.jsx)(n.h3,{id:"for-different-gps-quality",children:"For Different GPS Quality"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"High-Quality GPS:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 60-90s\nStay Detection Radius: 30-50m\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Average GPS Quality:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 90s (default)\nStay Detection Radius: 50m\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Poor GPS Quality:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Arrival Detection Duration: 120s (more conservative)\nStay Detection Radius: 75-100m\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"problem-trips-are-split-at-traffic-lights",children:"Problem: Trips are split at traffic lights"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Arrival Detection Duration too short"}),"\n",(0,r.jsx)(n.li,{children:"GPS showing near-zero speeds for extended periods"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Increase ",(0,r.jsx)(n.strong,{children:"Arrival Detection Duration"})," to 120-180 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:["Increase ",(0,r.jsx)(n.strong,{children:"Sustained Stop Duration"})," to 90-120 seconds"]}),"\n",(0,r.jsx)(n.li,{children:"Check if GPS is reporting unrealistically low speeds during traffic"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problem-genuine-arrivals-arent-detected-quickly",children:"Problem: Genuine arrivals aren't detected quickly"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Detection thresholds too conservative"}),"\n",(0,r.jsx)(n.li,{children:"GPS not reporting zero speed when stopped"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Decrease ",(0,r.jsx)(n.strong,{children:"Arrival Detection Duration"})," to 60 seconds"]}),"\n",(0,r.jsxs)(n.li,{children:["Decrease ",(0,r.jsx)(n.strong,{children:"Sustained Stop Duration"})," to 45 seconds"]}),"\n",(0,r.jsx)(n.li,{children:"Check GPS source configuration for speed reporting"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problem-walking-between-car-and-building-creates-extra-trip",children:"Problem: Walking between car and building creates extra trip"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Normal behavior for longer walks"}),"\n",(0,r.jsx)(n.li,{children:"Distance exceeds stay radius"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"This is often correct behavior - the walk is a valid mini-trip"}),"\n",(0,r.jsxs)(n.li,{children:["Increase ",(0,r.jsx)(n.strong,{children:"Stay Detection Radius"})," if you want to merge"]}),"\n",(0,r.jsx)(n.li,{children:"Define a Favorite Area for the parking lot + building"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problem-trip-shows-impossible-route-or-distance",children:"Problem: Trip shows impossible route or distance"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPS noise or gaps during trip"}),"\n",(0,r.jsx)(n.li,{children:"Poor accuracy points included"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check GPS source accuracy settings"}),"\n",(0,r.jsx)(n.li,{children:"Enable path simplification to smooth noise"}),"\n",(0,r.jsx)(n.li,{children:"Review GPS accuracy threshold settings"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problem-trip-statistics-seem-wrong",children:"Problem: Trip statistics seem wrong"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Possible Causes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPS-reported speeds are inaccurate"}),"\n",(0,r.jsx)(n.li,{children:"Missing GPS points during key moments"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"System uses GPS speeds when reliable, calculated speeds as fallback"}),"\n",(0,r.jsx)(n.li,{children:"Check GPS tracking frequency (30-60 second intervals recommended)"}),"\n",(0,r.jsx)(n.li,{children:"Some variation is normal due to GPS limitations"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"impact-on-timeline-rebuild",children:"Impact on Timeline Rebuild"}),"\n",(0,r.jsxs)(n.p,{children:["Changing trip detection settings triggers a ",(0,r.jsx)(n.strong,{children:"full timeline rebuild"}),":"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What Changes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"All trips are re-detected with new parameters"}),"\n",(0,r.jsx)(n.li,{children:"Trip start/end times may shift"}),"\n",(0,r.jsx)(n.li,{children:"Some trips may merge or split"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What Doesn't Change:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Original GPS data remains intact"}),"\n",(0,r.jsx)(n.li,{children:"Favorite locations are preserved"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Rebuild Time",type:"info",children:(0,r.jsx)(n.p,{children:"After changing trip detection settings, the timeline will rebuild completely. For large datasets, this may take several minutes."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-settings",children:"Related Settings"}),"\n",(0,r.jsx)(n.p,{children:"Trip detection works together with other timeline features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/user-guide/timeline/stay_detection",children:"Stay Detection"})})," - How stationary periods are identified"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/user-guide/timeline/travel_classification",children:"Travel Classification"})})," - How trip types are determined"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/user-guide/timeline/data_gaps",children:"Data Gaps"})})," - How missing GPS data affects trips"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/user-guide/core-features/timeline#simplifying-your-timeline-merging-and-cleaning-up",children:"Timeline Merging"})})," - How nearby stays are consolidated"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Trip detection identifies movement between stays using intelligent algorithms:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trip start:"})," Detected when you move beyond stay radius"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trip end:"})," Detected via sustained stop with spatial clustering and low speed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Two-tier detection:"})," Balances responsiveness with traffic stop filtering"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurable thresholds:"})," Adjust for your traffic conditions and use case"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Path simplification:"})," Reduces storage while preserving route accuracy"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By understanding these settings and tuning them for your typical travel patterns, you can ensure GeoPulse accurately captures your trips without false starts or ends due to traffic conditions."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);