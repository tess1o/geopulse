"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[6373],{3649:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"getting-started/deployment/helm-deployment","title":"Helm Chart Deployment & Configuration","description":"Complete reference for deploying and configuring GeoPulse using Helm on Kubernetes.","source":"@site/docs/getting-started/deployment/helm-deployment.md","sourceDirName":"getting-started/deployment","slug":"/getting-started/deployment/helm-deployment","permalink":"/geopulse/docs/getting-started/deployment/helm-deployment","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Helm Chart Deployment & Configuration","sidebar_label":"Helm Chart Reference","description":"Complete reference for deploying and configuring GeoPulse using Helm on Kubernetes."},"sidebar":"docsSidebar","previous":{"title":"Kubernetes Deployment","permalink":"/geopulse/docs/getting-started/deployment/kubernetes-helm"},"next":{"title":"Manual Installation Guide","permalink":"/geopulse/docs/getting-started/deployment/manual-installation"}}');var r=s(4848),l=s(8453);const d={title:"Helm Chart Deployment & Configuration",sidebar_label:"Helm Chart Reference",description:"Complete reference for deploying and configuring GeoPulse using Helm on Kubernetes."},t="GeoPulse Helm Chart Deployment & Configuration",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Manual Installation",id:"manual-installation",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. Install the Chart",id:"2-install-the-chart",level:3},{value:"3. Verify Installation",id:"3-verify-installation",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Understanding values.yaml",id:"understanding-valuesyaml",level:3},{value:"Built-in Configuration Options",id:"built-in-configuration-options",level:3},{value:"Core Configuration",id:"core-configuration",level:4},{value:"Admin Configuration",id:"admin-configuration",level:4},{value:"Authentication &amp; Registration",id:"authentication--registration",level:4},{value:"JWT Configuration",id:"jwt-configuration",level:4},{value:"GPS Filtering",id:"gps-filtering",level:4},{value:"Prometheus Metrics",id:"prometheus-metrics",level:4},{value:"Geocoding Configuration",id:"geocoding-configuration",level:4},{value:"Location Sharing",id:"location-sharing",level:4},{value:"User Invitation",id:"user-invitation",level:4},{value:"OwnTracks",id:"owntracks",level:4},{value:"OIDC / SSO Configuration",id:"oidc--sso-configuration",level:4},{value:"Google OIDC",id:"google-oidc",level:5},{value:"Microsoft OIDC",id:"microsoft-oidc",level:5},{value:"Generic OIDC (Keycloak, Authentik, Okta, etc.)",id:"generic-oidc-keycloak-authentik-okta-etc",level:5},{value:"Advanced Configuration: Custom Environment Variables",id:"advanced-configuration-custom-environment-variables",level:2},{value:"Method 1: Using extraEnv in values.yaml",id:"method-1-using-extraenv-in-valuesyaml",level:3},{value:"Method 2: Using ConfigMap for Multiple Variables",id:"method-2-using-configmap-for-multiple-variables",level:3},{value:"Method 3: Using Secrets for Sensitive Data",id:"method-3-using-secrets-for-sensitive-data",level:3},{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Minimal Setup (Local Testing)",id:"minimal-setup-local-testing",level:3},{value:"Production Setup with Ingress",id:"production-setup-with-ingress",level:3},{value:"Enable MQTT Broker",id:"enable-mqtt-broker",level:3},{value:"Use External PostgreSQL",id:"use-external-postgresql",level:3},{value:"Self-Hosted Geocoding",id:"self-hosted-geocoding",level:3},{value:"High-Performance Import Configuration",id:"high-performance-import-configuration",level:3},{value:"Monitoring with Prometheus",id:"monitoring-with-prometheus",level:3},{value:"Parameters Reference",id:"parameters-reference",level:2},{value:"Global Parameters",id:"global-parameters",level:3},{value:"Backend Parameters",id:"backend-parameters",level:3},{value:"Frontend Parameters",id:"frontend-parameters",level:3},{value:"PostgreSQL Parameters",id:"postgresql-parameters",level:3},{value:"MQTT (Mosquitto) Parameters",id:"mqtt-mosquitto-parameters",level:3},{value:"Ingress Parameters",id:"ingress-parameters",level:3},{value:"Upgrading",id:"upgrading",level:2},{value:"Uninstalling",id:"uninstalling",level:2},{value:"Accessing GeoPulse",id:"accessing-geopulse",level:2},{value:"With Ingress",id:"with-ingress",level:3},{value:"Without Ingress (Port Forward)",id:"without-ingress-port-forward",level:3},{value:"With LoadBalancer",id:"with-loadbalancer",level:3},{value:"Persistence",id:"persistence",level:2},{value:"Security",id:"security",level:2},{value:"Managing Secrets",id:"managing-secrets",level:3},{value:"Best Practices",id:"best-practices",level:4},{value:"Using Sealed Secrets",id:"using-sealed-secrets",level:4},{value:"Monitoring",id:"monitoring",level:2},{value:"Check Pod Status",id:"check-pod-status",level:3},{value:"View Logs",id:"view-logs",level:3},{value:"Run Tests",id:"run-tests",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"CPU Compatibility Issues",id:"cpu-compatibility-issues",level:3},{value:"Pods Not Starting",id:"pods-not-starting",level:3},{value:"Database Connection Issues",id:"database-connection-issues",level:3},{value:"JWT Key Issues",id:"jwt-key-issues",level:3},{value:"MQTT Not Working",id:"mqtt-not-working",level:3},{value:"Configuration Not Applied",id:"configuration-not-applied",level:3},{value:"Finding Environment Variables",id:"finding-environment-variables",level:3},{value:"Validating Secrets",id:"validating-secrets",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Support",id:"support",level:2},{value:"License",id:"license",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"geopulse-helm-chart-deployment--configuration",children:"GeoPulse Helm Chart Deployment & Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"This comprehensive guide covers manual Helm installation, configuration options, and advanced customization for GeoPulse on Kubernetes."}),"\n",(0,r.jsx)(n.admonition,{title:"Quick Start",type:"tip",children:(0,r.jsxs)(n.p,{children:["For an interactive, guided installation experience, see the ",(0,r.jsx)(n.a,{href:"/geopulse/docs/getting-started/deployment/kubernetes-helm",children:"Kubernetes Quick Start Guide"})," which uses automated scripts."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The GeoPulse Helm chart provides a production-ready deployment with the following features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Full Stack Deployment"}),": Backend (Java/Quarkus in Native mode), Frontend (Vue.js), PostgreSQL with PostGIS"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optional MQTT Support"}),": Conditional Mosquitto MQTT broker deployment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Production Ready"}),": Health checks, resource limits, persistent storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexible Configuration"}),": Extensive values.yaml for customization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Automatic JWT key generation, secrets management"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ingress Support"}),": Optional ingress with TLS"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"High Availability Ready"}),": Support for replicas and pod disruption budgets"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Kubernetes 1.19+"}),"\n",(0,r.jsx)(n.li,{children:"Helm 3.2.0+"}),"\n",(0,r.jsx)(n.li,{children:"PV provisioner support in the underlying infrastructure (for persistence)"}),"\n",(0,r.jsx)(n.li,{children:"(Optional) Ingress controller for external access"}),"\n",(0,r.jsx)(n.li,{children:"(Optional) cert-manager for TLS certificates"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"manual-installation",children:"Manual Installation"}),"\n",(0,r.jsx)(n.p,{children:"This section describes how to install the chart directly with Helm for advanced users or automated workflows."}),"\n",(0,r.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/tess1o/GeoPulse.git\ncd GeoPulse\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-install-the-chart",children:"2. Install the Chart"}),"\n",(0,r.jsxs)(n.p,{children:["You can install the chart using the ",(0,r.jsx)(n.code,{children:"helm install"})," command. You must provide your own values, either with ",(0,r.jsx)(n.code,{children:"--set"})," flags or a custom values file (",(0,r.jsx)(n.code,{children:"-f my-values.yaml"}),")."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Example installing with a custom values file from the examples\nhelm install geopulse ./helm/geopulse -f helm/examples/medium-deployment.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-verify-installation",children:"3. Verify Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check pod status\nkubectl get pods -l app.kubernetes.io/instance=geopulse\n\n# Run Helm tests\nhelm test geopulse\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"The GeoPulse Helm chart provides two ways to configure the application:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Built-in Values"})," - Common configuration options available in ",(0,r.jsx)(n.code,{children:"values.yaml"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom Environment Variables"})," - For advanced settings not included in the default chart"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"understanding-valuesyaml",children:"Understanding values.yaml"}),"\n",(0,r.jsxs)(n.p,{children:["The Helm chart uses a hierarchical ",(0,r.jsx)(n.code,{children:"values.yaml"})," file to configure GeoPulse. When you install or upgrade the chart, you can override these values:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Option 1: Command-line flags\nhelm install geopulse ./helm/geopulse --set config.admin.email="admin@example.com"\n\n# Option 2: Custom values file (recommended)\nhelm install geopulse ./helm/geopulse -f my-values.yaml\n'})}),"\n",(0,r.jsx)(n.h3,{id:"built-in-configuration-options",children:"Built-in Configuration Options"}),"\n",(0,r.jsx)(n.h4,{id:"core-configuration",children:"Core Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Frontend URL"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.uiUrl"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_UI_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:5555"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cookie Domain"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.cookieDomain"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_COOKIE_DOMAIN"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'""'})," (empty)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Secure Cookies"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.authSecureCookies"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_AUTH_SECURE_COOKIES"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"admin-configuration",children:"Admin Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Admin Email"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.admin.email"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_ADMIN_EMAIL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  admin:\n    email: "admin@example.com"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"authentication--registration",children:"Authentication & Registration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Registration Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.auth.registrationEnabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_AUTH_REGISTRATION_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Password Registration"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.auth.passwordRegistrationEnabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_AUTH_PASSWORD_REGISTRATION_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OIDC Registration"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.auth.oidcRegistrationEnabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_AUTH_OIDC_REGISTRATION_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"config:\n  auth:\n    registrationEnabled: false  # Disable all registration\n    passwordRegistrationEnabled: false  # Disable password registration only\n    oidcRegistrationEnabled: true  # Allow OIDC registration\n"})}),"\n",(0,r.jsx)(n.h4,{id:"jwt-configuration",children:"JWT Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Access Token Lifespan"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.jwt.accessTokenLifespan"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_JWT_ACCESS_TOKEN_LIFESPAN"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1800"})," (30 min)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Refresh Token Lifespan"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.jwt.refreshTokenLifespan"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_JWT_REFRESH_TOKEN_LIFESPAN"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"604800"})," (7 days)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JWT Issuer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.jwt.issuer"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_JWT_ISSUER"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:8080"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Public Key Location"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.jwt.publicKeyLocation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_JWT_PUBLIC_KEY_LOCATION"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file:/app/keys/jwt-public-key.pem"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Private Key Location"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.jwt.privateKeyLocation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_JWT_PRIVATE_KEY_LOCATION"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file:/app/keys/jwt-private-key.pem"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  jwt:\n    accessTokenLifespan: 3600  # 1 hour\n    refreshTokenLifespan: 2592000  # 30 days\n    issuer: "https://geopulse.example.com"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"gps-filtering",children:"GPS Filtering"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Filter Inaccurate Data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.gps.filterInaccurateData"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GPS_FILTER_INACCURATE_DATA_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Max Allowed Accuracy"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.gps.maxAllowedAccuracy"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GPS_MAX_ALLOWED_ACCURACY"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"100"})," meters"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Max Allowed Speed"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.gps.maxAllowedSpeed"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GPS_MAX_ALLOWED_SPEED"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"250"})," m/s"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"config:\n  gps:\n    filterInaccurateData: true\n    maxAllowedAccuracy: 50  # More strict filtering\n    maxAllowedSpeed: 200\n"})}),"\n",(0,r.jsx)(n.h4,{id:"prometheus-metrics",children:"Prometheus Metrics"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Refresh Interval"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.refreshInterval"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_REFRESH_INTERVAL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10m"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GPS Points Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.gpsPoints.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_GPS_POINTS_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"User Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.userMetrics.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_USER_METRICS_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Timeline Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.timeline.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_TIMELINE_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Favorites Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.favorites.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_FAVORITES_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Geocoding Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.geocoding.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_GEOCODING_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Memory Metrics"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.prometheus.memory.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_PROMETHEUS_MEMORY_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  prometheus:\n    enabled: true\n    refreshInterval: "5m"\n    # Optionally disable specific metric classes\n    memory:\n      enabled: false\n'})}),"\n",(0,r.jsx)(n.h4,{id:"geocoding-configuration",children:"Geocoding Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Primary Provider"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.primaryProvider"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_PRIMARY_PROVIDER"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nominatim"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Fallback Provider"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.fallbackProvider"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_FALLBACK_PROVIDER"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Delay (ms)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.delayMs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_DELAY_MS"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1000"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Nominatim Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.nominatim.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_NOMINATIM_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Nominatim URL"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.nominatim.url"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_NOMINATIM_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://nominatim.openstreetmap.org"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Photon Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.photon.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_PHOTON_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Photon URL"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.photon.url"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_PHOTON_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://photon.komoot.io"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Google Maps Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.googleMaps.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_GOOGLE_MAPS_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Google Maps API Key"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.googleMaps.apiKey"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_GOOGLE_MAPS_API_KEY"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'""'})," (secret)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mapbox Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.mapbox.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_MAPBOX_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mapbox Access Token"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.geocoding.mapbox.accessToken"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_GEOCODING_MAPBOX_ACCESS_TOKEN"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'""'})," (secret)"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  geocoding:\n    primaryProvider: "googlemaps"\n    fallbackProvider: "nominatim"\n    delayMs: 500\n    googleMaps:\n      enabled: true\n      apiKey: "your-api-key-here"  # Stored in Kubernetes Secret\n    nominatim:\n      enabled: true\n      language: "en-US"  # Optional: BCP 47 language tag\n    photon:\n      language: "en-US"  # Optional: BCP 47 language tag\n'})}),"\n",(0,r.jsx)(n.h4,{id:"location-sharing",children:"Location Sharing"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Base URL Override"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.share.baseUrl"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_SHARE_BASE_URL"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'""'})," (uses window.location.origin)"]})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  share:\n    baseUrl: "https://share.geopulse.example.com"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"user-invitation",children:"User Invitation"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Base URL Override"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.invitation.baseUrl"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_INVITATION_BASE_URL"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'""'})," (uses window.location.origin)"]})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  invitation:\n    baseUrl: "https://invite.geopulse.example.com"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"owntracks",children:"OwnTracks"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Ping Timestamp Override"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.owntracks.pingTimestampOverride"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_OWNTRACKS_PING_TIMESTAMP_OVERRIDE"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"config:\n  owntracks:\n    pingTimestampOverride: true\n"})}),"\n",(0,r.jsx)(n.h4,{id:"oidc--sso-configuration",children:"OIDC / SSO Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"values.yaml Path"}),(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OIDC Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.oidc.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_OIDC_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Auto-Link Accounts"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.oidc.autoLinkAccounts"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_OIDC_AUTO_LINK_ACCOUNTS"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cleanup Enabled"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"config.oidc.cleanupEnabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEOPULSE_OIDC_CLEANUP_ENABLED"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"google-oidc",children:"Google OIDC"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  oidc:\n    enabled: true\n    google:\n      enabled: true\n      clientId: "your-google-client-id.apps.googleusercontent.com"\n      clientSecret: "your-google-client-secret"  # Stored in Kubernetes Secret\n'})}),"\n",(0,r.jsx)(n.h5,{id:"microsoft-oidc",children:"Microsoft OIDC"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  oidc:\n    enabled: true\n    microsoft:\n      enabled: true\n      clientId: "your-microsoft-client-id"\n      clientSecret: "your-microsoft-client-secret"  # Stored in Kubernetes Secret\n'})}),"\n",(0,r.jsx)(n.h5,{id:"generic-oidc-keycloak-authentik-okta-etc",children:"Generic OIDC (Keycloak, Authentik, Okta, etc.)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  oidc:\n    enabled: true\n    generic:\n      enabled: true\n      name: "Keycloak"  # Display name in UI\n      clientId: "geopulse"\n      clientSecret: "your-keycloak-client-secret"  # Stored in Kubernetes Secret\n      discoveryUrl: "https://keycloak.example.com/realms/master/.well-known/openid-configuration"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"advanced-configuration-custom-environment-variables",children:"Advanced Configuration: Custom Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Some GeoPulse features are not exposed in the default Helm chart ",(0,r.jsx)(n.code,{children:"values.yaml"}),". For these advanced settings, you can add custom environment variables to the backend deployment."]}),"\n",(0,r.jsx)(n.h3,{id:"method-1-using-extraenv-in-valuesyaml",children:"Method 1: Using extraEnv in values.yaml"}),"\n",(0,r.jsx)(n.p,{children:"This is the recommended approach for most custom configuration needs."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1:"})," Create a custom values file (",(0,r.jsx)(n.code,{children:"custom-values.yaml"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'backend:\n  extraEnv:\n    - name: GEOPULSE_TIMELINE_PROCESSING_THREADS\n      value: "4"\n    - name: GEOPULSE_TIMELINE_VIEW_ITEM_LIMIT\n      value: "200"\n    - name: GEOPULSE_IMPORT_BULK_INSERT_BATCH_SIZE\n      value: "1000"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2:"})," Apply the configuration:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm upgrade geopulse ./helm/geopulse -f custom-values.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"method-2-using-configmap-for-multiple-variables",children:"Method 2: Using ConfigMap for Multiple Variables"}),"\n",(0,r.jsx)(n.p,{children:"For many custom variables, create a dedicated ConfigMap:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1:"})," Create ",(0,r.jsx)(n.code,{children:"custom-config.yaml"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: geopulse-custom-config\n  namespace: default\ndata:\n  GEOPULSE_TIMELINE_PROCESSING_THREADS: "4"\n  GEOPULSE_TIMELINE_VIEW_ITEM_LIMIT: "200"\n  GEOPULSE_IMPORT_BULK_INSERT_BATCH_SIZE: "1000"\n  GEOPULSE_TIMELINE_STAYPOINT_RADIUS_METERS: "75"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2:"})," Apply the ConfigMap:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f custom-config.yaml\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3:"})," Reference it in your values file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"backend:\n  extraEnvFrom:\n    - configMapRef:\n        name: geopulse-custom-config\n"})}),"\n",(0,r.jsx)(n.h3,{id:"method-3-using-secrets-for-sensitive-data",children:"Method 3: Using Secrets for Sensitive Data"}),"\n",(0,r.jsx)(n.p,{children:"For sensitive configuration like API keys:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1:"})," Create a Kubernetes Secret:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic geopulse-extra-secrets \\\n  --from-literal=GEOPULSE_AI_SOME_API_KEY='your-secret-key'\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2:"})," Reference it in values:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"backend:\n  extraEnv:\n    - name: GEOPULSE_AI_SOME_API_KEY\n      valueFrom:\n        secretKeyRef:\n          name: geopulse-extra-secrets\n          key: GEOPULSE_AI_SOME_API_KEY\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,r.jsx)(n.h3,{id:"minimal-setup-local-testing",children:"Minimal Setup (Local Testing)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# minimal-values.yaml\npostgres:\n  persistence:\n    enabled: false\n\nkeygen:\n  persistence:\n    enabled: false\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm install geopulse ./helm/geopulse -f minimal-values.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"production-setup-with-ingress",children:"Production Setup with Ingress"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# production-values.yaml\n# Resource allocation for production\nbackend:\n  replicaCount: 2\n  resources:\n    limits:\n      memory: 2Gi\n      cpu: 2000m\n    requests:\n      memory: 1Gi\n      cpu: 1000m\n\nfrontend:\n  replicaCount: 2\n\npostgres:\n  persistence:\n    enabled: true\n    size: 50Gi\n    storageClass: "fast-ssd"\n  resources:\n    limits:\n      memory: 4Gi\n      cpu: 2000m\n\n# Ingress configuration\ningress:\n  enabled: true\n  className: nginx\n  hostname: geopulse.example.com\n  tls:\n    enabled: true\n    secretName: geopulse-tls\n  annotations:\n    cert-manager.io/cluster-issuer: "letsencrypt-prod"\n    nginx.ingress.kubernetes.io/ssl-redirect: "true"\n\n# Application configuration\nconfig:\n  uiUrl: "https://geopulse.example.com"\n  cookieDomain: ".example.com"\n  authSecureCookies: true\n  admin:\n    email: "admin@example.com"\n  oidc:\n    enabled: true\n    google:\n      enabled: true\n      clientId: "..."\n      clientSecret: "..."\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm install geopulse ./helm/geopulse -f production-values.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"enable-mqtt-broker",children:"Enable MQTT Broker"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# mqtt-values.yaml\nmosquitto:\n  enabled: true\n  username: mqtt_admin\n  service:\n    type: LoadBalancer  # Or NodePort for external access\n  persistence:\n    enabled: true\n\nconfig:\n  # Update UI URL if needed\n  uiUrl: "http://your-domain:5555"\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm install geopulse ./helm/geopulse -f mqtt-values.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"use-external-postgresql",children:"Use External PostgreSQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# external-db-values.yaml\npostgres:\n  enabled: false\n\nexternalPostgres:\n  host: postgres.example.com\n  port: 5432\n  database: geopulse\n  username: geopulse-user\n  password: "your-secure-password"\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm install geopulse ./helm/geopulse -f external-db-values.yaml\n"})}),"\n",(0,r.jsx)(n.h3,{id:"self-hosted-geocoding",children:"Self-Hosted Geocoding"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  geocoding:\n    primaryProvider: "nominatim"\n    nominatim:\n      enabled: true\n      url: "https://nominatim.mycompany.internal"\n      language: "de"  # Optional: BCP 47 language tag\n    # Self-hosted Photon as fallback\n    fallbackProvider: "photon"\n    photon:\n      enabled: true\n      url: "https://photon.mycompany.internal"\n      language: "de"  # Optional: BCP 47 language tag\n'})}),"\n",(0,r.jsx)(n.h3,{id:"high-performance-import-configuration",children:"High-Performance Import Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'backend:\n  resources:\n    limits:\n      memory: 4Gi\n      cpu: 2000m\n  extraEnv:\n    - name: GEOPULSE_IMPORT_BULK_INSERT_BATCH_SIZE\n      value: "2000"\n    - name: GEOPULSE_IMPORT_MERGE_BATCH_SIZE\n      value: "1000"\n    - name: GEOPULSE_IMPORT_LARGE_FILE_THRESHOLD_MB\n      value: "200"\n    - name: GEOPULSE_TIMELINE_PROCESSING_THREADS\n      value: "4"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"monitoring-with-prometheus",children:"Monitoring with Prometheus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'config:\n  prometheus:\n    enabled: true\n    refreshInterval: "5m"\n    # All metrics enabled by default\n\n# Optional: If using Prometheus Operator\nserviceMonitor:\n  enabled: true\n  interval: 30s\n  path: /api/prometheus/metrics\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"parameters-reference",children:"Parameters Reference"}),"\n",(0,r.jsx)(n.h3,{id:"global-parameters",children:"Global Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"global.imagePullPolicy"})}),(0,r.jsx)(n.td,{children:"Image pull policy"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IfNotPresent"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"global.imagePullSecrets"})}),(0,r.jsx)(n.td,{children:"Image pull secrets"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"backend-parameters",children:"Backend Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.image.repository"})}),(0,r.jsx)(n.td,{children:"Backend image repository"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tess1o/geopulse-backend"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.image.tag"})}),(0,r.jsxs)(n.td,{children:["Backend image tag. Use ",(0,r.jsx)(n.code,{children:"1.9.0-native"})," for optimized builds (modern CPUs). Use ",(0,r.jsx)(n.code,{children:"1.9.0-native-compat"})," for older CPUs (x86-64-v2) or Raspberry Pi 3/4. See CPU Compatibility section below for troubleshooting."]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1.9.0-native"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.replicaCount"})}),(0,r.jsx)(n.td,{children:"Number of backend replicas"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.service.type"})}),(0,r.jsx)(n.td,{children:"Backend service type"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ClusterIP"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.service.port"})}),(0,r.jsx)(n.td,{children:"Backend service port"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8080"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.resources.limits.memory"})}),(0,r.jsx)(n.td,{children:"Backend memory limit"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1Gi"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend.resources.limits.cpu"})}),(0,r.jsx)(n.td,{children:"Backend CPU limit"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1000m"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"frontend-parameters",children:"Frontend Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"frontend.image.repository"})}),(0,r.jsx)(n.td,{children:"Frontend image repository"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tess1o/geopulse-ui"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"frontend.image.tag"})}),(0,r.jsx)(n.td,{children:"Frontend image tag"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1.9.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"frontend.replicaCount"})}),(0,r.jsx)(n.td,{children:"Number of frontend replicas"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"frontend.service.type"})}),(0,r.jsx)(n.td,{children:"Frontend service type"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ClusterIP"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"frontend.service.port"})}),(0,r.jsx)(n.td,{children:"Frontend service port"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"80"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"postgresql-parameters",children:"PostgreSQL Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.enabled"})}),(0,r.jsx)(n.td,{children:"Deploy PostgreSQL"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.image.repository"})}),(0,r.jsx)(n.td,{children:"PostgreSQL image"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgis/postgis"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.image.tag"})}),(0,r.jsx)(n.td,{children:"PostgreSQL image tag"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"17-3.5"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.persistence.enabled"})}),(0,r.jsx)(n.td,{children:"Enable persistence"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.persistence.size"})}),(0,r.jsx)(n.td,{children:"PVC size"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10Gi"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.persistence.storageClass"})}),(0,r.jsx)(n.td,{children:"Storage class"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.database"})}),(0,r.jsx)(n.td,{children:"Database name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"geopulse"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.username"})}),(0,r.jsx)(n.td,{children:"Database username"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"geopulse-user"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"postgres.config.sharedBuffers"})}),(0,r.jsx)(n.td,{children:"PostgreSQL shared_buffers"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"256MB"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"mqtt-mosquitto-parameters",children:"MQTT (Mosquitto) Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mosquitto.enabled"})}),(0,r.jsx)(n.td,{children:"Deploy MQTT broker"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mosquitto.image.repository"})}),(0,r.jsx)(n.td,{children:"Mosquitto image"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"iegomez/mosquitto-go-auth"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mosquitto.image.tag"})}),(0,r.jsx)(n.td,{children:"Mosquitto image tag"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3.0.0-mosquitto_2.0.18"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mosquitto.username"})}),(0,r.jsx)(n.td,{children:"MQTT admin username"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"geopulse_mqtt_admin"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mosquitto.persistence.enabled"})}),(0,r.jsx)(n.td,{children:"Enable persistence"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"ingress-parameters",children:"Ingress Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ingress.enabled"})}),(0,r.jsx)(n.td,{children:"Enable ingress"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ingress.className"})}),(0,r.jsx)(n.td,{children:"Ingress class name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nginx"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ingress.hostname"})}),(0,r.jsx)(n.td,{children:"Hostname"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"geopulse.example.com"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ingress.tls.enabled"})}),(0,r.jsx)(n.td,{children:"Enable TLS"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ingress.tls.secretName"})}),(0,r.jsx)(n.td,{children:"TLS secret name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"geopulse-tls"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"upgrading",children:"Upgrading"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Upgrade to a new version\nhelm upgrade geopulse ./helm/geopulse\n\n# Upgrade with new values\nhelm upgrade geopulse ./helm/geopulse -f my-values.yaml\n\n# See what will change\nhelm diff upgrade geopulse ./helm/geopulse -f my-values.yaml\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"uninstalling",children:"Uninstalling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm uninstall geopulse\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": This will not delete PersistentVolumeClaims. To delete them:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl delete pvc -l app.kubernetes.io/instance=geopulse\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"accessing-geopulse",children:"Accessing GeoPulse"}),"\n",(0,r.jsx)(n.h3,{id:"with-ingress",children:"With Ingress"}),"\n",(0,r.jsx)(n.p,{children:"Access via the configured hostname:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"https://geopulse.example.com\n"})}),"\n",(0,r.jsx)(n.h3,{id:"without-ingress-port-forward",children:"Without Ingress (Port Forward)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward svc/geopulse-frontend 5555:80\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then visit: ",(0,r.jsx)(n.a,{href:"http://localhost:5555",children:"http://localhost:5555"})]}),"\n",(0,r.jsx)(n.h3,{id:"with-loadbalancer",children:"With LoadBalancer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get svc geopulse-frontend\n# Note the EXTERNAL-IP and access via http://EXTERNAL-IP\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"persistence",children:"Persistence"}),"\n",(0,r.jsx)(n.p,{children:"GeoPulse uses PersistentVolumeClaims for:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL data"})," (",(0,r.jsx)(n.code,{children:"10Gi"})," by default)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"JWT keys"})," (",(0,r.jsx)(n.code,{children:"10Mi"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MQTT data"})," (if enabled, ",(0,r.jsx)(n.code,{children:"1Gi"})," for data, logs, config)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Configure storage classes and sizes in ",(0,r.jsx)(n.code,{children:"values.yaml"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Passwords are auto-generated if not provided"}),"\n",(0,r.jsx)(n.li,{children:"JWT keys are generated during installation"}),"\n",(0,r.jsx)(n.li,{children:"Secrets are stored in Kubernetes Secret objects"}),"\n",(0,r.jsxs)(n.li,{children:["Use existing secrets with: ",(0,r.jsx)(n.code,{children:"secrets.useExistingSecret=true"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"managing-secrets",children:"Managing Secrets"}),"\n",(0,r.jsx)(n.h4,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Never commit secrets to Git"})," - Use ",(0,r.jsx)(n.code,{children:".gitignore"})," for values files with secrets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Kubernetes Secrets"})," - Store sensitive data in Secret objects, not ConfigMaps"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consider External Secret Managers"})," - For production, use AWS Secrets Manager, HashiCorp Vault, or similar"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotate secrets regularly"})," - Update secrets periodically and restart pods"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"using-sealed-secrets",children:"Using Sealed Secrets"}),"\n",(0,r.jsxs)(n.p,{children:["For GitOps workflows, consider using ",(0,r.jsx)(n.a,{href:"https://github.com/bitnami-labs/sealed-secrets",children:"Sealed Secrets"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Install Sealed Secrets controller\nkubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/controller.yaml\n\n# Create a sealed secret\necho -n 'your-secret-value' | kubectl create secret generic mysecret --dry-run=client --from-file=api-key=/dev/stdin -o yaml | \\\n  kubeseal -o yaml > sealed-secret.yaml\n\n# Commit sealed-secret.yaml to Git safely\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,r.jsx)(n.h3,{id:"check-pod-status",children:"Check Pod Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -l app.kubernetes.io/instance=geopulse\n"})}),"\n",(0,r.jsx)(n.h3,{id:"view-logs",children:"View Logs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Backend\nkubectl logs -l app.kubernetes.io/component=backend -f\n\n# Frontend\nkubectl logs -l app.kubernetes.io/component=frontend -f\n\n# PostgreSQL\nkubectl logs -l app.kubernetes.io/component=database -f\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-tests",children:"Run Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm test geopulse\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"cpu-compatibility-issues",children:"CPU Compatibility Issues"}),"\n",(0,r.jsx)(n.p,{children:"If your backend pods are crashing immediately with errors about missing CPU features, you have an older CPU that needs the compatible image."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check pod logs:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl logs -l app.kubernetes.io/component=backend\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Look for errors like:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[AVX2, BMI1, BMI2, FMA, F16C, LZCNT]"})," (AMD64 CPUs)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[FP, ASIMD, CRC32, LSE]"})," (ARM64/Raspberry Pi)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Override the image tag in your values file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# values-compat.yaml\nbackend:\n  image:\n    tag: "1.9.0-native-compat"  # Use compatible image for old CPUs\n'})}),"\n",(0,r.jsx)(n.p,{children:"Then upgrade your deployment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm upgrade geopulse ./helm/geopulse -f values-compat.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Who needs the compatible image?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Old x86 CPUs"}),": Intel pre-Haswell (before 2013), AMD pre-Excavator (before 2015)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Examples: Intel Core i5-3470T (Ivy Bridge), Intel Xeon E5-2670 (Sandy Bridge)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Raspberry Pi 3/4"}),": ARM Cortex-A53/A72 processors"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check node CPU features:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# For x86/AMD64 nodes:\nkubectl debug node/YOUR-NODE-NAME -it --image=ubuntu -- lscpu | grep -i flags\n# Look for: avx2, bmi1, bmi2, fma, f16c\n\n# For ARM64 nodes:\nkubectl debug node/YOUR-NODE-NAME -it --image=ubuntu -- cat /proc/cpuinfo | grep Features\n# Look for: asimd, crc32, atomics\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pods-not-starting",children:"Pods Not Starting"}),"\n",(0,r.jsx)(n.p,{children:"Check events:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get events --sort-by='.lastTimestamp'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"database-connection-issues",children:"Database Connection Issues"}),"\n",(0,r.jsx)(n.p,{children:"Verify PostgreSQL is running:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -l app.kubernetes.io/component=database\nkubectl logs -l app.kubernetes.io/component=database\n"})}),"\n",(0,r.jsx)(n.h3,{id:"jwt-key-issues",children:"JWT Key Issues"}),"\n",(0,r.jsx)(n.p,{children:"Check keygen job:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get jobs\nkubectl logs job/geopulse-keygen\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mqtt-not-working",children:"MQTT Not Working"}),"\n",(0,r.jsx)(n.p,{children:"Ensure MQTT is enabled and check logs:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl logs -l app.kubernetes.io/component=mqtt\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-not-applied",children:"Configuration Not Applied"}),"\n",(0,r.jsx)(n.p,{children:"If your configuration changes aren't taking effect:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify the values are set:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm get values geopulse\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check the ConfigMap:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get configmap geopulse-config -o yaml\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Restart the backend pod:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl rollout restart deployment geopulse-backend\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"finding-environment-variables",children:"Finding Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"To see all environment variables in the running backend:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it deployment/geopulse-backend -- env | grep GEOPULSE | sort\n"})}),"\n",(0,r.jsx)(n.h3,{id:"validating-secrets",children:"Validating Secrets"}),"\n",(0,r.jsx)(n.p,{children:"Check if secrets are properly set:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List secret keys (values are base64 encoded)\nkubectl get secret geopulse-secret -o jsonpath='{.data}' | jq 'keys'\n\n# Decode a specific secret (be careful with sensitive data)\nkubectl get secret geopulse-secret -o jsonpath='{.data.GEOPULSE_ADMIN_EMAIL}' | base64 -d\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsx)(n.p,{children:"For feature-specific configuration details, see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/admin-panel",children:"Admin Panel Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/authentication",children:"Authentication Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/user-registration",children:"User Registration Management"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/oidc-sso",children:"OIDC/SSO Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/gps-data-filtering",children:"GPS Data Filtering"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/monitoring/prometheus",children:"Prometheus Monitoring"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/reverse-geocoding",children:"Reverse Geocoding"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/location-sharing",children:"Location Sharing"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/owntracks-additional-config",children:"OwnTracks Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/system-administration/configuration/timeline-global-config",children:"Timeline Global Configuration"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Documentation: ",(0,r.jsx)(n.a,{href:"https://github.com/tess1o/geopulse/tree/main/docs",children:"https://github.com/tess1o/geopulse/tree/main/docs"})]}),"\n",(0,r.jsxs)(n.li,{children:["Issues: ",(0,r.jsx)(n.a,{href:"https://github.com/tess1o/geopulse/issues",children:"https://github.com/tess1o/geopulse/issues"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(n.p,{children:"AGPL-3.0 with Non-Commercial Use Restriction"})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var i=s(6540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);