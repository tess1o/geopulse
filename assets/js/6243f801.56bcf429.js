"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[4791],{2823:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"system-administration/configuration/login-control","title":"Login Control Management","description":"GeoPulse provides a flexible, hierarchical system to control user login. You can disable all login globally or control email/password and OIDC login independently. This is useful for maintenance periods, enforcing specific authentication methods, or restricting access.","source":"@site/docs/system-administration/configuration/login-control.md","sourceDirName":"system-administration/configuration","slug":"/system-administration/configuration/login-control","permalink":"/geopulse/docs/system-administration/configuration/login-control","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"User Registration Management","permalink":"/geopulse/docs/system-administration/configuration/user-registration"},"next":{"title":"OIDC Authentication","permalink":"/geopulse/docs/system-administration/configuration/oidc-sso"}}');var l=i(4848),t=i(8453);const a={},r="Login Control Management",o={},d=[{value:"Enable/Disable Login",id:"enabledisable-login",level:2},{value:"How it Works",id:"how-it-works",level:2},{value:"Admin Bypass",id:"admin-bypass",level:2},{value:"Default Behavior (Bypass Enabled)",id:"default-behavior-bypass-enabled",level:3},{value:"Disabling Admin Bypass",id:"disabling-admin-bypass",level:3},{value:"Behavior",id:"behavior",level:2},{value:"Existing Sessions",id:"existing-sessions",level:3},{value:"Frontend Display",id:"frontend-display",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Maintenance Mode",id:"maintenance-mode",level:3},{value:"Force OIDC Authentication Only",id:"force-oidc-authentication-only",level:3},{value:"Disable External Authentication",id:"disable-external-authentication",level:3},{value:"Scheduled Maintenance Window",id:"scheduled-maintenance-window",level:3},{value:"Complete System Lockdown",id:"complete-system-lockdown",level:3},{value:"Admin Panel Configuration",id:"admin-panel-configuration",level:2},{value:"Kubernetes / Helm Configuration",id:"kubernetes--helm-configuration",level:2},{value:"Example: Maintenance Mode (Admin Access Allowed)",id:"example-maintenance-mode-admin-access-allowed",level:3},{value:"Example: Complete Lockdown (No Admin Bypass)",id:"example-complete-lockdown-no-admin-bypass",level:3},{value:"Relationship with Registration Controls",id:"relationship-with-registration-controls",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Admin Role Protection",id:"admin-role-protection",level:3},{value:"Token Refresh",id:"token-refresh",level:3},{value:"Audit Trail",id:"audit-trail",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Login is currently disabled&quot; - I&#39;m an admin!",id:"login-is-currently-disabled---im-an-admin",level:3},{value:"Admin can&#39;t login after disabling",id:"admin-cant-login-after-disabling",level:3},{value:"Locked out after disabling admin bypass",id:"locked-out-after-disabling-admin-bypass",level:3},{value:"Settings not taking effect",id:"settings-not-taking-effect",level:3},{value:"Want to force logout all users",id:"want-to-force-logout-all-users",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"login-control-management",children:"Login Control Management"})}),"\n",(0,l.jsx)(n.p,{children:"GeoPulse provides a flexible, hierarchical system to control user login. You can disable all login globally or control email/password and OIDC login independently. This is useful for maintenance periods, enforcing specific authentication methods, or restricting access."}),"\n",(0,l.jsx)(n.h2,{id:"enabledisable-login",children:"Enable/Disable Login"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Environment Variable"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_LOGIN_ENABLED"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.strong,{children:"Master switch for all user logins."})," If set to ",(0,l.jsx)(n.code,{children:"false"}),", all login methods (email/password and OIDC) will be disabled (subject to admin bypass setting)"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_PASSWORD_LOGIN_ENABLED"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsx)(n.td,{children:"Enables or disables user login via email and password. This is a specific switch that is only effective if the master switch is enabled."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_OIDC_LOGIN_ENABLED"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsx)(n.td,{children:"Enables or disables user login via OIDC providers. This is a specific switch that is only effective if the master switch is enabled"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"true"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.strong,{children:"Controls admin bypass behavior."})," When ",(0,l.jsx)(n.code,{children:"true"})," (default), admins can bypass login restrictions. When ",(0,l.jsx)(n.code,{children:"false"}),", admins are subject to the same login restrictions as regular users"]})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"how-it-works",children:"How it Works"}),"\n",(0,l.jsx)(n.p,{children:"The login control system checks both the master switch and the specific login method switch:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["To disable ",(0,l.jsx)(n.strong,{children:"all"})," user logins (maintenance mode):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=false\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"To allow OIDC login but disable email/password login:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=true\nGEOPULSE_AUTH_PASSWORD_LOGIN_ENABLED=false\nGEOPULSE_AUTH_OIDC_LOGIN_ENABLED=true\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"To allow only password login (disable OIDC):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=true\nGEOPULSE_AUTH_PASSWORD_LOGIN_ENABLED=true\nGEOPULSE_AUTH_OIDC_LOGIN_ENABLED=false\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["If the master ",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_LOGIN_ENABLED"})," is ",(0,l.jsx)(n.code,{children:"false"}),", no new logins are allowed for regular users, regardless of the other settings. The UI will display an informative message explaining that login is disabled."]}),"\n",(0,l.jsx)(n.h2,{id:"admin-bypass",children:"Admin Bypass"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Configurable Behavior:"})," Admin login bypass can be controlled via the ",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED"})," setting."]}),"\n",(0,l.jsx)(n.h3,{id:"default-behavior-bypass-enabled",children:"Default Behavior (Bypass Enabled)"}),"\n",(0,l.jsxs)(n.p,{children:["By default (",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED=true"}),"), admin users bypass login restrictions to prevent system lockout:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Frontend"}),': When login is disabled, users see a message with an "Administrator Access" button']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Click button"}),': Reveals the login form with a notice "Administrator access - login restrictions bypassed"']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Backend validation"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Admin users (determined by ",(0,l.jsx)(n.code,{children:"GEOPULSE_ADMIN_EMAIL"})," or ADMIN role) can log in successfully"]}),"\n",(0,l.jsx)(n.li,{children:"Non-admin users receive a 403 Forbidden error even if they try to bypass the UI"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"This prevents scenarios where administrators accidentally lock themselves out of the system during maintenance or configuration changes."}),"\n",(0,l.jsx)(n.h3,{id:"disabling-admin-bypass",children:"Disabling Admin Bypass"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"WARNING:"})," Setting ",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED=false"})," means admins are subject to the same login restrictions as regular users. This can result in complete system lockout if login is disabled globally."]}),"\n",(0,l.jsx)(n.p,{children:"Use cases for disabling admin bypass:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"High-security environments"})," where even admins must not access the system during maintenance"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Compliance requirements"})," mandating no exceptions to access control policies"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Scheduled downtime"})," where all access (including admin) must be prevented"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Best Practice:"})," Only disable admin bypass when you have alternative access methods (e.g., direct database access, console access) to re-enable login if needed."]}),"\n",(0,l.jsx)(n.h2,{id:"behavior",children:"Behavior"}),"\n",(0,l.jsx)(n.h3,{id:"existing-sessions",children:"Existing Sessions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Remain valid"})," when login is disabled"]}),"\n",(0,l.jsxs)(n.li,{children:["Only ",(0,l.jsx)(n.strong,{children:"NEW logins"})," are blocked"]}),"\n",(0,l.jsx)(n.li,{children:"Users with valid sessions can continue working"}),"\n",(0,l.jsx)(n.li,{children:"Token refresh continues to work for existing sessions"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"frontend-display",children:"Frontend Display"}),"\n",(0,l.jsx)(n.p,{children:"When login is disabled, the login page shows:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"All login disabled"}),': Warning message with "Administrator Access" button']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Password only disabled"}),": Info message explaining OIDC is available, plus admin button"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"OIDC only disabled"}),": Password form is shown, OIDC buttons hidden"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,l.jsx)(n.h3,{id:"maintenance-mode",children:"Maintenance Mode"}),"\n",(0,l.jsx)(n.p,{children:"Disable all new logins during system maintenance:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=false\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result:"})," No new logins allowed, but existing sessions remain valid. Admins can still log in via the admin access button."]}),"\n",(0,l.jsx)(n.h3,{id:"force-oidc-authentication-only",children:"Force OIDC Authentication Only"}),"\n",(0,l.jsx)(n.p,{children:"Require all users to use corporate SSO/OIDC:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=true\nGEOPULSE_AUTH_PASSWORD_LOGIN_ENABLED=false\nGEOPULSE_AUTH_OIDC_LOGIN_ENABLED=true\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result:"})," Users must authenticate via OIDC providers (Google, Microsoft, etc.). Password login disabled."]}),"\n",(0,l.jsx)(n.h3,{id:"disable-external-authentication",children:"Disable External Authentication"}),"\n",(0,l.jsx)(n.p,{children:"Restrict to internal password authentication only:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=true\nGEOPULSE_AUTH_PASSWORD_LOGIN_ENABLED=true\nGEOPULSE_AUTH_OIDC_LOGIN_ENABLED=false\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result:"})," Only password-based login available. Useful for air-gapped or internal-only deployments."]}),"\n",(0,l.jsx)(n.h3,{id:"scheduled-maintenance-window",children:"Scheduled Maintenance Window"}),"\n",(0,l.jsx)(n.p,{children:"Disable login during backup/upgrade:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Before maintenance\nGEOPULSE_AUTH_LOGIN_ENABLED=false\n\n# After maintenance\nGEOPULSE_AUTH_LOGIN_ENABLED=true\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result:"})," Prevents new users from starting work during the maintenance window. Existing users can finish their work."]}),"\n",(0,l.jsx)(n.h3,{id:"complete-system-lockdown",children:"Complete System Lockdown"}),"\n",(0,l.jsx)(n.p,{children:"Prevent all access including admins (high-security maintenance):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_AUTH_LOGIN_ENABLED=false\nGEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED=false\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result:"})," Complete lockdown - no new logins allowed for anyone. ",(0,l.jsx)(n.strong,{children:"WARNING:"})," Ensure you have alternative access methods before using this configuration!"]}),"\n",(0,l.jsx)(n.h2,{id:"admin-panel-configuration",children:"Admin Panel Configuration"}),"\n",(0,l.jsx)(n.p,{children:"Login settings can also be configured via the Admin Panel (requires admin privileges):"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Navigate to ",(0,l.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,l.jsx)(n.strong,{children:"Authentication"})]}),"\n",(0,l.jsxs)(n.li,{children:['Find the "Registration Settings" section with four toggles:',"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Login Enabled"})," (master switch for all logins)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Password Login"})," (email/password login control)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"OIDC Login"})," (OIDC provider login control)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Admin Login Bypass"})," (allow admins to bypass login restrictions)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Toggle settings as needed"}),"\n",(0,l.jsxs)(n.li,{children:["Changes take effect ",(0,l.jsx)(n.strong,{children:"immediately"})," (no restart required)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Settings configured via Admin Panel override environment variables and are stored in the database."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"}),' Be cautious when disabling "Admin Login Bypass" while login is disabled - you may lock yourself out!']}),"\n",(0,l.jsx)(n.h2,{id:"kubernetes--helm-configuration",children:"Kubernetes / Helm Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Configure in ",(0,l.jsx)(n.code,{children:"values.yaml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"config:\n  auth:\n    # Login Control\n    loginEnabled: true              # Master switch\n    passwordLoginEnabled: true      # Email/password login\n    oidcLoginEnabled: true          # OIDC login\n    adminLoginBypassEnabled: true   # Allow admins to bypass restrictions\n"})}),"\n",(0,l.jsx)(n.h3,{id:"example-maintenance-mode-admin-access-allowed",children:"Example: Maintenance Mode (Admin Access Allowed)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"config:\n  auth:\n    loginEnabled: false             # Disable all login during maintenance\n    passwordLoginEnabled: true\n    oidcLoginEnabled: true\n    adminLoginBypassEnabled: true   # Admins can still log in\n"})}),"\n",(0,l.jsx)(n.h3,{id:"example-complete-lockdown-no-admin-bypass",children:"Example: Complete Lockdown (No Admin Bypass)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"config:\n  auth:\n    loginEnabled: false              # Disable all login\n    passwordLoginEnabled: true\n    oidcLoginEnabled: true\n    adminLoginBypassEnabled: false   # Even admins cannot log in\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Apply with: ",(0,l.jsx)(n.code,{children:"helm upgrade geopulse ./helm/geopulse -f custom-values.yaml"})]}),"\n",(0,l.jsxs)(n.p,{children:["For more details, see the ",(0,l.jsx)(n.a,{href:"/docs/getting-started/deployment/helm-deployment#authentication--registration",children:"Helm Configuration Guide"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"relationship-with-registration-controls",children:"Relationship with Registration Controls"}),"\n",(0,l.jsxs)(n.p,{children:["Login controls are ",(0,l.jsx)(n.strong,{children:"independent"})," from ",(0,l.jsx)(n.a,{href:"/docs/system-administration/configuration/user-registration",children:"registration controls"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Registration controls"})," affect new user account creation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Login controls"})," affect existing user authentication"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Example scenarios:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Registration"}),(0,l.jsx)(n.th,{children:"Login"}),(0,l.jsx)(n.th,{children:"Result"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Enabled"}),(0,l.jsx)(n.td,{children:"Enabled"}),(0,l.jsx)(n.td,{children:"Normal operation - users can register and login"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Disabled"}),(0,l.jsx)(n.td,{children:"Enabled"}),(0,l.jsx)(n.td,{children:"Closed system - only existing users can login"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Enabled"}),(0,l.jsx)(n.td,{children:"Disabled"}),(0,l.jsx)(n.td,{children:"Users can register but can't login immediately (unusual)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Disabled"}),(0,l.jsx)(n.td,{children:"Disabled"}),(0,l.jsx)(n.td,{children:"Complete lockdown - no registration or login (admins can still login)"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"admin-role-protection",children:"Admin Role Protection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Only users with the ADMIN role can bypass login restrictions"}),"\n",(0,l.jsxs)(n.li,{children:["Admin role is assigned via ",(0,l.jsx)(n.code,{children:"GEOPULSE_ADMIN_EMAIL"})," environment variable"]}),"\n",(0,l.jsx)(n.li,{children:"Cannot be escalated through registration or normal user operations"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"token-refresh",children:"Token Refresh"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Existing sessions can be refreshed even when login is disabled"}),"\n",(0,l.jsx)(n.li,{children:"This is intentional - allows graceful degradation"}),"\n",(0,l.jsx)(n.li,{children:"To force logout, disable user accounts individually (Admin Panel \u2192 Users)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"audit-trail",children:"Audit Trail"}),"\n",(0,l.jsx)(n.p,{children:"All login attempts (successful and failed) are logged for security auditing."}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"login-is-currently-disabled---im-an-admin",children:'"Login is currently disabled" - I\'m an admin!'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solution:"}),' Click the "Administrator Access" button to reveal the login form. The backend will validate your admin status.']}),"\n",(0,l.jsx)(n.h3,{id:"admin-cant-login-after-disabling",children:"Admin can't login after disabling"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Possible causes:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Admin bypass is disabled (",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED=false"}),") - check settings"]}),"\n",(0,l.jsxs)(n.li,{children:["User doesn't have ADMIN role (check ",(0,l.jsx)(n.code,{children:"GEOPULSE_ADMIN_EMAIL"})," matches exactly)"]}),"\n",(0,l.jsx)(n.li,{children:"Database role is not set to ADMIN (check Admin Panel \u2192 Users)"}),"\n",(0,l.jsx)(n.li,{children:"Frontend shows admin button but backend rejects (check backend logs)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"locked-out-after-disabling-admin-bypass",children:"Locked out after disabling admin bypass"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solution:"})," If you've disabled admin bypass and login, you'll need to:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Access the database directly or via console"}),"\n",(0,l.jsxs)(n.li,{children:["Update ",(0,l.jsx)(n.code,{children:"system_settings"})," table to set ",(0,l.jsx)(n.code,{children:"auth.admin-login-bypass.enabled"})," to ",(0,l.jsx)(n.code,{children:"true"})]}),"\n",(0,l.jsx)(n.li,{children:"Or delete the row to revert to default (bypass enabled)"}),"\n",(0,l.jsxs)(n.li,{children:["Alternatively, set environment variable ",(0,l.jsx)(n.code,{children:"GEOPULSE_AUTH_ADMIN_LOGIN_BYPASS_ENABLED=true"})," and restart"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"settings-not-taking-effect",children:"Settings not taking effect"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"If using environment variables: Restart backend service"}),"\n",(0,l.jsx)(n.li,{children:"If using Admin Panel: Settings are immediate, no restart needed"}),"\n",(0,l.jsxs)(n.li,{children:["Check database ",(0,l.jsx)(n.code,{children:"system_settings"})," table - database values override environment variables"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"want-to-force-logout-all-users",children:"Want to force logout all users"}),"\n",(0,l.jsxs)(n.p,{children:["Login controls only prevent ",(0,l.jsx)(n.strong,{children:"NEW logins"}),". To force logout:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Admin Panel \u2192 Users \u2192 Disable specific users"}),"\n",(0,l.jsx)(n.li,{children:"Or change JWT private key (forces all sessions invalid)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/system-administration/configuration/user-registration",children:"User Registration Management"})," - Control new account creation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/system-administration/configuration/authentication",children:"Authentication Configuration"})," - Cookie and JWT settings"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/system-administration/configuration/oidc-sso",children:"OIDC/SSO Configuration"})," - Configure external identity providers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/system-administration/configuration/admin-panel",children:"Admin Panel Guide"})," - Managing settings via UI"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var s=i(6540);const l={},t=s.createContext(l);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);