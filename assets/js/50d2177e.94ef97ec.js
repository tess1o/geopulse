"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[5994],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var t=s(6540);const o={},l=t.createContext(o);function i(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(l.Provider,{value:n},e.children)}},8634:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"system-administration/maintenance/updating","title":"How to Update GeoPulse","description":"Update your GeoPulse installation to the latest version.","source":"@site/docs/system-administration/maintenance/updating.md","sourceDirName":"system-administration/maintenance","slug":"/system-administration/maintenance/updating","permalink":"/geopulse/docs/system-administration/maintenance/updating","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"How to Update GeoPulse","description":"Update your GeoPulse installation to the latest version."},"sidebar":"docsSidebar","previous":{"title":"Prometheus","permalink":"/geopulse/docs/system-administration/monitoring/prometheus"},"next":{"title":"Backup & Restore","permalink":"/geopulse/docs/system-administration/maintenance/backup-restore"}}');var o=s(4848),l=s(8453);const i={title:"How to Update GeoPulse",description:"Update your GeoPulse installation to the latest version."},a="How to Update GeoPulse",r={},d=[{value:"Docker Compose Deployments",id:"docker-compose-deployments",level:2},{value:"Step 1: Update Version in .env File",id:"step-1-update-version-in-env-file",level:3},{value:"Step 2: Pull Images and Restart Services",id:"step-2-pull-images-and-restart-services",level:3},{value:"Database Migrations",id:"database-migrations",level:3},{value:"Kubernetes/Helm Deployments",id:"kuberneteshelm-deployments",level:2},{value:"Step 1: Update Chart Values",id:"step-1-update-chart-values",level:3},{value:"Step 2: Upgrade with Helm",id:"step-2-upgrade-with-helm",level:3},{value:"Step 3: Verify Deployment",id:"step-3-verify-deployment",level:3},{value:"Rollback Procedures",id:"rollback-procedures",level:2},{value:"Docker Compose Rollback",id:"docker-compose-rollback",level:3},{value:"Kubernetes/Helm Rollback",id:"kuberneteshelm-rollback",level:3},{value:"Version Compatibility",id:"version-compatibility",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"how-to-update-geopulse",children:"How to Update GeoPulse"})}),"\n",(0,o.jsx)(n.p,{children:"This guide covers updating GeoPulse to the latest version for both Docker Compose and Kubernetes/Helm deployments."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Always check the ",(0,o.jsx)(n.a,{href:"https://github.com/tess1o/geopulse/releases",children:"GitHub Releases"})," for release notes and breaking changes before updating."]})}),"\n",(0,o.jsx)(n.h2,{id:"docker-compose-deployments",children:"Docker Compose Deployments"}),"\n",(0,o.jsx)(n.h3,{id:"step-1-update-version-in-env-file",children:"Step 1: Update Version in .env File"}),"\n",(0,o.jsxs)(n.p,{children:["Edit your ",(0,o.jsx)(n.code,{children:".env"})," file and update the ",(0,o.jsx)(n.code,{children:"GEOPULSE_VERSION"})," variable to the desired version:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"GEOPULSE_VERSION=1.9.0\n"})}),"\n",(0,o.jsx)(n.h3,{id:"step-2-pull-images-and-restart-services",children:"Step 2: Pull Images and Restart Services"}),"\n",(0,o.jsx)(n.p,{children:"You can use the following script to update the backend and frontend services:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\nset -e\n\nCOMPOSE_FILE="docker-compose.yml"\nSERVICES="geopulse-backend geopulse-ui"\n\necho "\ud83d\udce5 Pulling latest images for $SERVICES..."\ndocker compose -f "$COMPOSE_FILE" pull $SERVICES\n\necho "\ud83d\uded1 Stopping and removing containers for $SERVICES..."\ndocker compose -f "$COMPOSE_FILE" rm -fsv $SERVICES\n\necho "\ud83d\ude80 Starting $SERVICES..."\ndocker compose -f "$COMPOSE_FILE" up -d $SERVICES\n\necho "\u2705 Backend and frontend redeployed successfully!"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Save this script as ",(0,o.jsx)(n.code,{children:"update-geopulse.sh"}),", make it executable with ",(0,o.jsx)(n.code,{children:"chmod +x update-geopulse.sh"}),", and run it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"./update-geopulse.sh\n"})}),"\n",(0,o.jsx)(n.h3,{id:"database-migrations",children:"Database Migrations"}),"\n",(0,o.jsx)(n.p,{children:"Database migrations are handled automatically when the backend starts up. You don't need to run any manual migration commands."}),"\n",(0,o.jsx)(n.h2,{id:"kuberneteshelm-deployments",children:"Kubernetes/Helm Deployments"}),"\n",(0,o.jsx)(n.h3,{id:"step-1-update-chart-values",children:"Step 1: Update Chart Values"}),"\n",(0,o.jsxs)(n.p,{children:["Update your ",(0,o.jsx)(n.code,{children:"values.yaml"})," file or chart repository to point to the new version:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'image:\n  tag: "1.9.0"  # Update to the desired version\n'})}),"\n",(0,o.jsx)(n.h3,{id:"step-2-upgrade-with-helm",children:"Step 2: Upgrade with Helm"}),"\n",(0,o.jsx)(n.p,{children:"Run the Helm upgrade command to deploy the new version:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"helm upgrade geopulse ./helm/geopulse -f your-values.yaml\n"})}),"\n",(0,o.jsx)(n.p,{children:"If you're using a remote chart repository:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"helm repo update\nhelm upgrade geopulse geopulse/geopulse -f your-values.yaml\n"})}),"\n",(0,o.jsx)(n.h3,{id:"step-3-verify-deployment",children:"Step 3: Verify Deployment"}),"\n",(0,o.jsx)(n.p,{children:"Check that the pods are running with the new version:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -l app=geopulse\nkubectl describe pod <pod-name>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Database migrations are handled automatically by the backend on startup."}),"\n",(0,o.jsx)(n.h2,{id:"rollback-procedures",children:"Rollback Procedures"}),"\n",(0,o.jsx)(n.h3,{id:"docker-compose-rollback",children:"Docker Compose Rollback"}),"\n",(0,o.jsx)(n.p,{children:"If you need to rollback to a previous version:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Update the ",(0,o.jsx)(n.code,{children:"GEOPULSE_VERSION"})," in your ",(0,o.jsx)(n.code,{children:".env"})," file to the previous version"]}),"\n",(0,o.jsx)(n.li,{children:"Run the update script again to deploy the older version"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"kuberneteshelm-rollback",children:"Kubernetes/Helm Rollback"}),"\n",(0,o.jsx)(n.p,{children:"Use Helm's built-in rollback functionality:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# List release history\nhelm history geopulse\n\n# Rollback to previous revision\nhelm rollback geopulse\n\n# Rollback to specific revision\nhelm rollback geopulse <revision-number>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"version-compatibility",children:"Version Compatibility"}),"\n",(0,o.jsx)(n.p,{children:"GeoPulse follows semantic versioning. When updating:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Patch versions"})," (e.g., 1.9.0 \u2192 1.9.1): Bug fixes, safe to update"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Minor versions"})," (e.g., 1.9.0 \u2192 1.10.0): New features, backward compatible"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Major versions"})," (e.g., 1.9.0 \u2192 2.0.0): Breaking changes, review release notes carefully"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Always review the release notes on ",(0,o.jsx)(n.a,{href:"https://github.com/tess1o/geopulse/releases",children:"GitHub Releases"})," before updating, especially for major and minor version changes."]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);