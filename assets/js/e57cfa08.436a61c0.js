"use strict";(globalThis.webpackChunkdocs_website=globalThis.webpackChunkdocs_website||[]).push([[8236],{2904:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"getting-started/deployment/manual-installation","title":"Manual Installation Guide","description":"Complete reference for deploying and configuring GeoPulse on bare metal servers or VMs without Docker/Kubernetes.","source":"@site/docs/getting-started/deployment/manual-installation.md","sourceDirName":"getting-started/deployment","slug":"/getting-started/deployment/manual-installation","permalink":"/geopulse/docs/getting-started/deployment/manual-installation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Manual Installation Guide","sidebar_label":"Manual Installation Guide","description":"Complete reference for deploying and configuring GeoPulse on bare metal servers or VMs without Docker/Kubernetes."},"sidebar":"docsSidebar","previous":{"title":"Helm Chart Reference","permalink":"/geopulse/docs/getting-started/deployment/helm-deployment"},"next":{"title":"Initial Setup","permalink":"/geopulse/docs/system-administration/initial-setup"}}');var o=s(4848),i=s(8453);const l={title:"Manual Installation Guide",sidebar_label:"Manual Installation Guide",description:"Complete reference for deploying and configuring GeoPulse on bare metal servers or VMs without Docker/Kubernetes."},t="Manual Installation Guide",a={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"1. Choose Your Backend Type",id:"1-choose-your-backend-type",level:2},{value:"Native Backend (Recommended)",id:"native-backend-recommended",level:3},{value:"JVM Backend",id:"jvm-backend",level:3},{value:"2. Determine Your CPU Architecture",id:"2-determine-your-cpu-architecture",level:2},{value:"Check Architecture",id:"check-architecture",level:3},{value:"Check CPU Features (AMD64 only)",id:"check-cpu-features-amd64-only",level:3},{value:"Check CPU Model (ARM64 only)",id:"check-cpu-model-arm64-only",level:3},{value:"Summary Table",id:"summary-table",level:3},{value:"3. Install System Dependencies",id:"3-install-system-dependencies",level:2},{value:"Ubuntu / Debian",id:"ubuntu--debian",level:3},{value:"RHEL / Rocky Linux / AlmaLinux",id:"rhel--rocky-linux--almalinux",level:3},{value:"Fedora",id:"fedora",level:3},{value:"4. Create System User",id:"4-create-system-user",level:2},{value:"5. Create Directory Structure",id:"5-create-directory-structure",level:2},{value:"6. Configure PostgreSQL",id:"6-configure-postgresql",level:2},{value:"Initialize and Start PostgreSQL",id:"initialize-and-start-postgresql",level:3},{value:"Create Database and User",id:"create-database-and-user",level:3},{value:"Verify PostGIS Installation",id:"verify-postgis-installation",level:3},{value:"7. Generate Security Keys",id:"7-generate-security-keys",level:2},{value:"8. Download GeoPulse Artifacts",id:"8-download-geopulse-artifacts",level:2},{value:"Download Frontend (Required)",id:"download-frontend-required",level:3},{value:"Download Backend (Choose ONE Option)",id:"download-backend-choose-one-option",level:3},{value:"Download and Verify Checksums",id:"download-and-verify-checksums",level:3},{value:"9. Install Backend",id:"9-install-backend",level:2},{value:"For Native Backend",id:"for-native-backend",level:3},{value:"For JVM Backend",id:"for-jvm-backend",level:3},{value:"10. Install Frontend",id:"10-install-frontend",level:2},{value:"11. Create Configuration File",id:"11-create-configuration-file",level:2},{value:"12. Create Systemd Service",id:"12-create-systemd-service",level:2},{value:"For Native Backend",id:"for-native-backend-1",level:3},{value:"For JVM Backend",id:"for-jvm-backend-1",level:3},{value:"Reload Systemd and Enable Service",id:"reload-systemd-and-enable-service",level:3},{value:"13. Configure Nginx Web Server",id:"13-configure-nginx-web-server",level:2},{value:"Create OSM Tile Cache Directory",id:"create-osm-tile-cache-directory",level:3},{value:"Create Nginx Configuration",id:"create-nginx-configuration",level:3},{value:"14. Start and Verify Services",id:"14-start-and-verify-services",level:2},{value:"Start the Backend",id:"start-the-backend",level:3},{value:"Check Backend Status",id:"check-backend-status",level:3},{value:"Monitor Backend Logs",id:"monitor-backend-logs",level:3},{value:"Test Backend Health Endpoint",id:"test-backend-health-endpoint",level:3},{value:"Verify Database Connection",id:"verify-database-connection",level:3},{value:"Access the Frontend",id:"access-the-frontend",level:3},{value:"Post-Installation",id:"post-installation",level:2},{value:"Create First Admin User",id:"create-first-admin-user",level:3},{value:"Configuration Management",id:"configuration-management",level:2},{value:"Applying Configuration Changes",id:"applying-configuration-changes",level:3},{value:"Common Configuration Changes",id:"common-configuration-changes",level:3},{value:"Change Backend Port",id:"change-backend-port",level:4},{value:"Add Allowed Origins (CORS)",id:"add-allowed-origins-cors",level:4},{value:"Monitoring and Logs",id:"monitoring-and-logs",level:2},{value:"Backend Logs",id:"backend-logs",level:3},{value:"Frontend/Nginx Logs",id:"frontendnginx-logs",level:3},{value:"Upgrading GeoPulse",id:"upgrading-geopulse",level:2},{value:"Manual Upgrade Process",id:"manual-upgrade-process",level:3},{value:"1. Download New Version",id:"1-download-new-version",level:4},{value:"2. Stop Services",id:"2-stop-services",level:4},{value:"3. Upgrade Backend",id:"3-upgrade-backend",level:4},{value:"4. Upgrade Frontend",id:"4-upgrade-frontend",level:4},{value:"5. Start Services",id:"5-start-services",level:4},{value:"6. Verify Upgrade",id:"6-verify-upgrade",level:4},{value:"7. Cleanup",id:"7-cleanup",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Backend Won&#39;t Start",id:"backend-wont-start",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"1. Database Connection Failed",id:"1-database-connection-failed",level:4},{value:"2. Port Already in Use",id:"2-port-already-in-use",level:4},{value:"3. Permission Denied (Binary Not Executable)",id:"3-permission-denied-binary-not-executable",level:4},{value:"4. Keys Not Found",id:"4-keys-not-found",level:4},{value:"5. Timezone Error",id:"5-timezone-error",level:4},{value:"6. Extension Permission Denied",id:"6-extension-permission-denied",level:4},{value:"Frontend Not Loading",id:"frontend-not-loading",level:3},{value:"Request Failed with Status Code 403 (CORS Error)",id:"request-failed-with-status-code-403-cors-error",level:3},{value:"API Calls Failing / Cannot Connect to Backend",id:"api-calls-failing--cannot-connect-to-backend",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"manual-installation-guide",children:"Manual Installation Guide"})}),"\n",(0,o.jsx)(n.p,{children:"This guide provides step-by-step instructions for manually deploying GeoPulse on bare metal servers or VMs without Docker/Kubernetes."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Root access (",(0,o.jsx)(n.code,{children:"sudo"}),")"]}),"\n",(0,o.jsx)(n.li,{children:"Linux system (Ubuntu, Debian, RHEL, Rocky Linux, AlmaLinux, or Fedora)"}),"\n",(0,o.jsx)(n.li,{children:"Internet connection"}),"\n",(0,o.jsx)(n.li,{children:"Basic command-line knowledge"}),"\n"]}),"\n",(0,o.jsxs)(n.admonition,{title:"Running in Containers or as Root",type:"tip",children:[(0,o.jsx)(n.p,{children:"If you're running in a minimal container (LXC, Docker, etc.) or already operating as root:"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:["Skip ",(0,o.jsx)(n.code,{children:"sudo"})]}),": If you're root, run commands without ",(0,o.jsx)(n.code,{children:"sudo"})," prefix"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Instead of: sudo apt-get install ...\n# Use: apt-get install ...\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"PostgreSQL commands"}),": Replace ",(0,o.jsx)(n.code,{children:"sudo -u postgres"})," with one of these:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Option 1: Switch user (then run psql commands)\nsu - postgres\n\n# Option 2: Use runuser (from root, single command)\nrunuser -u postgres -- psql -d geopulse -c "SELECT 1;"\n'})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Install sudo (optional)"}),": For consistency with these instructions:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"apt-get install -y sudo  # Debian/Ubuntu\ndnf install -y sudo      # RHEL/Rocky/Fedora\n"})}),"\n"]}),"\n"]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Installation Steps:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#1-choose-your-backend-type",children:"Choose Your Backend Type"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#2-determine-your-cpu-architecture",children:"Determine Your CPU Architecture"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#3-install-system-dependencies",children:"Install System Dependencies"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#4-create-system-user",children:"Create System User"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#5-create-directory-structure",children:"Create Directory Structure"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#6-configure-postgresql",children:"Configure PostgreSQL"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#7-generate-security-keys",children:"Generate Security Keys"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#8-download-geopulse-artifacts",children:"Download GeoPulse Artifacts"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#9-install-backend",children:"Install Backend"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#10-install-frontend",children:"Install Frontend"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#11-create-configuration-file",children:"Create Configuration File"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#12-create-systemd-service",children:"Create Systemd Service"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#13-configure-nginx-web-server",children:"Configure Nginx Web Server"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#14-start-and-verify-services",children:"Start and Verify Services"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Post-Installation:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#create-first-admin-user",children:"Create First Admin User"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#configuration-management",children:"Configuration Management"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#monitoring-and-logs",children:"Monitoring and Logs"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#upgrading-geopulse",children:"Upgrading GeoPulse"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"1-choose-your-backend-type",children:"1. Choose Your Backend Type"}),"\n",(0,o.jsx)(n.p,{children:"GeoPulse offers two backend options:"}),"\n",(0,o.jsx)(n.h3,{id:"native-backend-recommended",children:"Native Backend (Recommended)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u2705 No Java required"}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Lower memory usage (50-100 MB)"}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Faster startup (milliseconds)"}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Better performance"}),"\n",(0,o.jsx)(n.li,{children:"\u274c Architecture-specific binary"}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Best Use Cases",type:"info",children:(0,o.jsx)(n.p,{children:"Production deployments, resource-constrained environments, Raspberry Pi"})}),"\n",(0,o.jsx)(n.h3,{id:"jvm-backend",children:"JVM Backend"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u2705 Platform-independent (works on any Java 25+ system)"}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Easier debugging"}),"\n",(0,o.jsx)(n.li,{children:"\u274c Requires Java 25+ runtime"}),"\n",(0,o.jsx)(n.li,{children:"\u274c Higher memory usage (512-1024 MB)"}),"\n",(0,o.jsx)(n.li,{children:"\u274c Slower startup"}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Best Use Cases",type:"info",children:(0,o.jsx)(n.p,{children:"Development, testing, cross-platform compatibility"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-determine-your-cpu-architecture",children:"2. Determine Your CPU Architecture"}),"\n",(0,o.jsx)(n.p,{children:"Before downloading, identify your CPU architecture and capabilities to select the correct binary."}),"\n",(0,o.jsx)(n.h3,{id:"check-architecture",children:"Check Architecture"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"uname -m\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Output meanings:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"x86_64"})," \u2192 AMD64 (Intel/AMD processors)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"aarch64"})," or ",(0,o.jsx)(n.code,{children:"arm64"})," \u2192 ARM64 (ARM processors, Raspberry Pi, AWS Graviton)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"check-cpu-features-amd64-only",children:"Check CPU Features (AMD64 only)"}),"\n",(0,o.jsx)(n.p,{children:"For AMD64 systems, check if your CPU supports modern instruction sets:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Check for x86-64-v3 support (AVX2, BMI2, FMA)\ngrep -q avx2 /proc/cpuinfo && grep -q bmi2 /proc/cpuinfo && grep -q fma /proc/cpuinfo && echo "Modern CPU (x86-64-v3)" || echo "Older CPU (x86-64-v2)"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Result interpretation:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:'"Modern CPU (x86-64-v3)"'}),": Use ",(0,o.jsx)(n.code,{children:"geopulse-backend-native-amd64-{version}"}),"\nCPUs from ~2013+: Intel Haswell, AMD Zen or newer"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:'"Older CPU (x86-64-v2)"'}),": Use ",(0,o.jsx)(n.code,{children:"geopulse-backend-native-amd64-compat-{version}"}),"\nOlder Intel/AMD CPUs, VPS with older hypervisors"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"check-cpu-model-arm64-only",children:"Check CPU Model (ARM64 only)"}),"\n",(0,o.jsx)(n.p,{children:"For ARM64 systems, check if it's a Raspberry Pi:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'cat /proc/cpuinfo | grep -i "raspberry\\|bcm" && echo "Raspberry Pi - use compat build" || echo "Modern ARM64 - use optimized build"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Result interpretation:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:'"Raspberry Pi - use compat build"'}),": Use ",(0,o.jsx)(n.code,{children:"geopulse-backend-native-arm64-compat-{version}"}),"\nRaspberry Pi 3, 4, or similar"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:'"Modern ARM64 - use optimized build"'}),": Use ",(0,o.jsx)(n.code,{children:"geopulse-backend-native-arm64-{version}"}),"\nAWS Graviton, Ampere Altra, Apple Silicon (if running Linux)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"summary-table",children:"Summary Table"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Architecture"}),(0,o.jsx)(n.th,{children:"CPU Type"}),(0,o.jsx)(n.th,{children:"Binary to Download"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"AMD64"}),(0,o.jsx)(n.td,{children:"Modern (2013+)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"geopulse-backend-native-amd64-{version}"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"AMD64"}),(0,o.jsx)(n.td,{children:"Older (pre-2013)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"geopulse-backend-native-amd64-compat-{version}"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ARM64"}),(0,o.jsx)(n.td,{children:"Modern"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"geopulse-backend-native-arm64-{version}"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ARM64"}),(0,o.jsx)(n.td,{children:"Raspberry Pi 3/4"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"geopulse-backend-native-arm64-compat-{version}"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Any"}),(0,o.jsx)(n.td,{children:"JVM Backend"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"geopulse-backend-jvm-{version}.tar.gz"})})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-install-system-dependencies",children:"3. Install System Dependencies"}),"\n",(0,o.jsx)(n.h3,{id:"ubuntu--debian",children:"Ubuntu / Debian"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Update package list\nsudo apt-get update\n\n# Install core dependencies (including timezone data and lsb-release for repository setup)\nsudo apt-get install -y curl wget tar openssl ca-certificates tzdata lsb-release\n\n# Configure timezone (required for PostgreSQL)\nsudo ln -sf /usr/share/zoneinfo/UTC /etc/localtime\nsudo dpkg-reconfigure -f noninteractive tzdata\n\n# Install PostgreSQL 17 + PostGIS\nsudo apt-get install -y postgresql-17 postgresql-17-postgis-3\n\n# Install Nginx\nsudo apt-get install -y nginx\n\n# If using JVM backend, install Java 25\n# sudo apt-get install -y openjdk-25-jre-headless\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"PostgreSQL 17 Repository",type:"note",children:(0,o.jsx)(n.p,{children:"If PostgreSQL 17 is not available in your distribution's repositories, you can use PostgreSQL's official APT repository:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Ensure lsb-release is installed (needed for release detection)\nsudo apt-get install -y lsb-release\n\n# Add PostgreSQL APT repository key (modern method)\nwget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | \\\n  sudo gpg --dearmor -o /usr/share/keyrings/postgresql-keyring.gpg\n\n# Add PostgreSQL repository with signed-by keyring\nsudo sh -c 'echo \"deb [signed-by=/usr/share/keyrings/postgresql-keyring.gpg] https://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main\" > /etc/apt/sources.list.d/pgdg.list'\n\n# Update package lists\nsudo apt-get update\n\n# Install PostgreSQL 17\nsudo apt-get install -y postgresql-17 postgresql-17-postgis-3\n"})}),"\n",(0,o.jsx)(n.h3,{id:"rhel--rocky-linux--almalinux",children:"RHEL / Rocky Linux / AlmaLinux"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install core dependencies (including timezone data)\nsudo dnf install -y curl wget tar openssl ca-certificates tzdata\n\n# Configure timezone (required for PostgreSQL)\nsudo ln -sf /usr/share/zoneinfo/UTC /etc/localtime\n\n# Install PostgreSQL 17 + PostGIS\nsudo dnf install -y postgresql17-server postgresql17-contrib postgis35_17\n\n# Install Nginx (optional)\nsudo dnf install -y nginx\n\n# If using JVM backend, install Java 25\n# sudo dnf install -y java-25-openjdk-headless\n"})}),"\n",(0,o.jsx)(n.h3,{id:"fedora",children:"Fedora"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install core dependencies (including timezone data)\nsudo dnf install -y curl wget tar openssl ca-certificates tzdata\n\n# Configure timezone (required for PostgreSQL)\nsudo ln -sf /usr/share/zoneinfo/UTC /etc/localtime\n\n# Install PostgreSQL 17 + PostGIS\nsudo dnf install -y postgresql-server postgresql-contrib postgis\n\n# Install Nginx (optional)\nsudo dnf install -y nginx\n\n# If using JVM backend, install Java 25\n# sudo dnf install -y java-25-openjdk-headless\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"4-create-system-user",children:"4. Create System User"}),"\n",(0,o.jsx)(n.p,{children:"This user will own all GeoPulse files and run the backend service. It cannot log in interactively, making it secure."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo useradd -r -s /bin/false -d /opt/geopulse -c "GeoPulse Service" geopulse\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"5-create-directory-structure",children:"5. Create Directory Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Application directory (backend, keys)\nsudo mkdir -p /opt/geopulse/backend\nsudo mkdir -p /opt/geopulse/keys\n\n# Configuration directory\nsudo mkdir -p /etc/geopulse\n\n# Frontend directory (for Nginx deployment)\nsudo mkdir -p /var/www/geopulse\n\n# Data directory (dumps, backups)\nsudo mkdir -p /var/lib/geopulse/dumps\n\n# Logs directory\nsudo mkdir -p /var/log/geopulse/backend\nsudo mkdir -p /var/log/geopulse/nginx\n\n# Set ownership and permissions\nsudo chown -R geopulse:geopulse /opt/geopulse\nsudo chown -R geopulse:geopulse /var/lib/geopulse\nsudo chown -R geopulse:geopulse /var/log/geopulse\n\n# Secure the keys directory\nsudo chmod 750 /opt/geopulse/keys\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Directory Structure",type:"info",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/opt/geopulse"})," - Application installation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/etc/geopulse"})," - Configuration files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/var/www/geopulse"})," - Frontend static files (Nginx)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/var/lib/geopulse"})," - Runtime data, backups"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/var/log/geopulse"})," - Application logs"]}),"\n"]})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"6-configure-postgresql",children:"6. Configure PostgreSQL"}),"\n",(0,o.jsx)(n.h3,{id:"initialize-and-start-postgresql",children:"Initialize and Start PostgreSQL"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ubuntu/Debian:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start postgresql\nsudo systemctl enable postgresql\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"RHEL/Rocky/AlmaLinux:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Initialize database cluster (first time only)\nsudo /usr/pgsql-17/bin/postgresql-17-setup initdb\n\n# Start and enable\nsudo systemctl start postgresql-17\nsudo systemctl enable postgresql-17\n"})}),"\n",(0,o.jsx)(n.h3,{id:"create-database-and-user",children:"Create Database and User"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo -u postgres psql << 'EOF'\n-- Create user\nCREATE USER geopulse WITH PASSWORD 'your_secure_password_here';\n\n-- Create database\nCREATE DATABASE geopulse OWNER geopulse;\n\n-- Connect to geopulse database\n\\c geopulse\n\n-- Enable PostGIS extensions (must be done as superuser)\nCREATE EXTENSION IF NOT EXISTS postgis;\nCREATE EXTENSION IF NOT EXISTS postgis_topology;\n\n-- Grant privileges\nGRANT ALL PRIVILEGES ON DATABASE geopulse TO geopulse;\nGRANT ALL ON SCHEMA public TO geopulse;\nGRANT ALL ON ALL TABLES IN SCHEMA public TO geopulse;\nGRANT ALL ON ALL SEQUENCES IN SCHEMA public TO geopulse;\nEOF\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,o.jsxs)(n.p,{children:["Replace ",(0,o.jsx)(n.code,{children:"'your_secure_password_here'"})," with a strong, random password. Save this password - you'll need it in step 11."]})}),"\n",(0,o.jsx)(n.h3,{id:"verify-postgis-installation",children:"Verify PostGIS Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo -u postgres psql -d geopulse -c "SELECT PostGIS_Version();"\n'})}),"\n",(0,o.jsx)(n.p,{children:"You should see PostGIS version information."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"7-generate-security-keys",children:"7. Generate Security Keys"}),"\n",(0,o.jsx)(n.p,{children:"GeoPulse requires two types of cryptographic keys:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"JWT RSA Key Pair"})," - For user authentication tokens"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AI Encryption Key"})," - For encrypting AI provider API keys"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Generate JWT RSA key pair (2048-bit)\nsudo openssl genpkey -algorithm RSA -out /opt/geopulse/keys/jwt-private-key.pem\nsudo openssl rsa -pubout -in /opt/geopulse/keys/jwt-private-key.pem -out /opt/geopulse/keys/jwt-public-key.pem\n\n# Generate AI encryption key (256-bit)\nsudo bash -c 'openssl rand -base64 32 > /opt/geopulse/keys/ai-encryption-key.txt'\n\n# Set secure permissions\nsudo chmod 640 /opt/geopulse/keys/jwt-private-key.pem /opt/geopulse/keys/jwt-public-key.pem /opt/geopulse/keys/ai-encryption-key.txt\nsudo chown geopulse:geopulse /opt/geopulse/keys/jwt-private-key.pem /opt/geopulse/keys/jwt-public-key.pem /opt/geopulse/keys/ai-encryption-key.txt\n\n# Verify files were created\nsudo ls -lh /opt/geopulse/keys/\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Security Notice",type:"danger",children:(0,o.jsxs)(n.p,{children:["These keys are critical. Never commit them to version control or share them. The private key should only be readable by the ",(0,o.jsx)(n.code,{children:"geopulse"})," user."]})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"8-download-geopulse-artifacts",children:"8. Download GeoPulse Artifacts"}),"\n",(0,o.jsx)(n.admonition,{title:"Version Selection",type:"tip",children:(0,o.jsxs)(n.p,{children:["Set your desired version (check ",(0,o.jsx)(n.a,{href:"https://github.com/tess1o/geopulse/releases",children:"GitHub Releases"})," for the latest version):"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"VERSION=1.16.2\n"})}),"\n",(0,o.jsx)(n.p,{children:"Create a temporary download directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir -p /tmp/geopulse-install\ncd /tmp/geopulse-install\n"})}),"\n",(0,o.jsx)(n.h3,{id:"download-frontend-required",children:"Download Frontend (Required)"}),"\n",(0,o.jsx)(n.p,{children:"The frontend is architecture-independent:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-frontend-${VERSION}.tar.gz\n"})}),"\n",(0,o.jsx)(n.h3,{id:"download-backend-choose-one-option",children:"Download Backend (Choose ONE Option)"}),"\n",(0,o.jsxs)(n.p,{children:["Based on your CPU architecture determined in ",(0,o.jsx)(n.a,{href:"#2-determine-your-cpu-architecture",children:"Step 2"}),":"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option A: Native AMD64 (Modern CPUs - Intel Haswell 2013+, AMD Zen 2017+)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-backend-native-amd64-${VERSION}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option B: Native AMD64 Compatible (Older CPUs, x86-64-v2)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-backend-native-amd64-compat-${VERSION}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option C: Native ARM64 (Modern ARM64)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-backend-native-arm64-${VERSION}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option D: Native ARM64 Compatible (Raspberry Pi 3/4)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-backend-native-arm64-compat-${VERSION}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option E: JVM Backend (Any platform with Java 25+)"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/geopulse-backend-jvm-${VERSION}.tar.gz\n"})}),"\n",(0,o.jsx)(n.h3,{id:"download-and-verify-checksums",children:"Download and Verify Checksums"}),"\n",(0,o.jsx)(n.admonition,{title:"Security Best Practice",type:"tip",children:(0,o.jsx)(n.p,{children:"Always verify checksums to ensure downloaded files haven't been tampered with."})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Download checksums\nwget https://github.com/tess1o/geopulse/releases/download/v${VERSION}/SHA256SUMS\n\n# Verify checksums\nsha256sum -c SHA256SUMS --ignore-missing\n"})}),"\n",(0,o.jsx)(n.p,{children:"You should see:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"geopulse-frontend-1.16.2.tar.gz: OK\ngeopulse-backend-native-amd64-1.16.2: OK\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Checksum Verification",type:"caution",children:(0,o.jsxs)(n.p,{children:["If verification fails, ",(0,o.jsx)(n.strong,{children:"do not proceed"}),". Re-download the files."]})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"9-install-backend",children:"9. Install Backend"}),"\n",(0,o.jsx)(n.h3,{id:"for-native-backend",children:"For Native Backend"}),"\n",(0,o.jsx)(n.p,{children:"Choose the command that matches your architecture from step 2:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"AMD64 Modern:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Copy binary and set permissions\nsudo cp geopulse-backend-native-amd64-${VERSION} /opt/geopulse/backend/geopulse-backend\nsudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"AMD64 Compatible:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Copy binary and set permissions\nsudo cp geopulse-backend-native-amd64-compat-${VERSION} /opt/geopulse/backend/geopulse-backend\nsudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"ARM64 Modern:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Copy binary and set permissions\nsudo cp geopulse-backend-native-arm64-${VERSION} /opt/geopulse/backend/geopulse-backend\nsudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"ARM64 Compatible (Raspberry Pi):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Copy binary and set permissions\nsudo cp geopulse-backend-native-arm64-compat-${VERSION} /opt/geopulse/backend/geopulse-backend\nsudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Verify installation:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ls -lh /opt/geopulse/backend/geopulse-backend\n# Should show: -rwxr-xr-x 1 geopulse geopulse [size] [date] geopulse-backend\n"})}),"\n",(0,o.jsx)(n.h3,{id:"for-jvm-backend",children:"For JVM Backend"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Extract quarkus-app folder\nsudo tar -xzf geopulse-backend-jvm-${VERSION}.tar.gz -C /opt/geopulse/backend\n\n# Set permissions\nsudo chown -R geopulse:geopulse /opt/geopulse/backend\n\n# Verify installation\nls -la /opt/geopulse/backend/quarkus-app/\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You should see: ",(0,o.jsx)(n.code,{children:"quarkus-run.jar"}),", ",(0,o.jsx)(n.code,{children:"lib/"}),", ",(0,o.jsx)(n.code,{children:"app/"}),", ",(0,o.jsx)(n.code,{children:"quarkus/"})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"10-install-frontend",children:"10. Install Frontend"}),"\n",(0,o.jsx)(n.p,{children:"Extract frontend to Nginx web directory and set permissions:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ubuntu / Debian:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Extract frontend files\nsudo tar -xzf geopulse-frontend-${VERSION}.tar.gz -C /var/www/geopulse\n\n# Set permissions for Nginx\nsudo chown -R www-data:www-data /var/www/geopulse\n\n# Verify extraction\nls -la /var/www/geopulse/\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"RHEL / Rocky Linux / AlmaLinux / Fedora:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Extract frontend files\nsudo tar -xzf geopulse-frontend-${VERSION}.tar.gz -C /var/www/geopulse\n\n# Set permissions for Nginx\nsudo chown -R nginx:nginx /var/www/geopulse\n\n# Verify extraction\nls -la /var/www/geopulse/\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You should see: ",(0,o.jsx)(n.code,{children:"index.html"}),", ",(0,o.jsx)(n.code,{children:"assets/"}),", ",(0,o.jsx)(n.code,{children:"geopulse-logo.svg"}),", etc."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"11-create-configuration-file",children:"11. Create Configuration File"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo tee /etc/geopulse/geopulse.env > /dev/null << 'EOF'\n# GeoPulse Configuration\n\n# \u26a0\ufe0f REQUIRED: Frontend URL - MUST be updated or the application will not work!\n# Use your server's IP address or domain name. For multiple domains, separate with commas.\n# Examples:\n#   Single domain: GEOPULSE_UI_URL=http://192.168.1.100\n#   Multiple:      GEOPULSE_UI_URL=http://192.168.1.100,http://example.com,https://example.com\nGEOPULSE_UI_URL=http://your-server-ip\n\n# Backend port\nQUARKUS_HTTP_PORT=8080\n\n# Database connection (update password from step 6)\nGEOPULSE_POSTGRES_URL=jdbc:postgresql://localhost:5432/geopulse\nGEOPULSE_POSTGRES_HOST=localhost\nGEOPULSE_POSTGRES_PORT=5432\nGEOPULSE_POSTGRES_DB=geopulse\nGEOPULSE_POSTGRES_USERNAME=geopulse\nGEOPULSE_POSTGRES_PASSWORD=your_secure_password_here\n\n# JWT Keys (must use file: URI scheme)\nGEOPULSE_JWT_PRIVATE_KEY_LOCATION=file:/opt/geopulse/keys/jwt-private-key.pem\nGEOPULSE_JWT_PUBLIC_KEY_LOCATION=file:/opt/geopulse/keys/jwt-public-key.pem\n\n# AI Encryption (must use file: URI scheme)\nGEOPULSE_AI_ENCRYPTION_KEY_LOCATION=file:/opt/geopulse/keys/ai-encryption-key.txt\n\n# Logging\nQUARKUS_LOG_FILE_ENABLE=true\nQUARKUS_LOG_FILE_PATH=/var/log/geopulse/backend/geopulse.log\nQUARKUS_LOG_FILE_ROTATION_MAX_FILE_SIZE=10M\nQUARKUS_LOG_FILE_ROTATION_MAX_BACKUP_INDEX=5\n\nEOF\n"})}),"\n",(0,o.jsxs)(n.admonition,{title:"CRITICAL: Update Required Configuration Values",type:"danger",children:[(0,o.jsxs)(n.p,{children:["Before continuing, you ",(0,o.jsx)(n.strong,{children:"MUST"})," edit the configuration file and update these values:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/geopulse/geopulse.env\n"})}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Required changes:"})}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"GEOPULSE_UI_URL"})," (line 8) - Replace ",(0,o.jsx)(n.code,{children:"http://your-server-ip"})," with your actual server IP or domain"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Without this, you will get ",(0,o.jsx)(n.strong,{children:'"Request failed with status code 403"'})," CORS errors"]}),"\n",(0,o.jsxs)(n.li,{children:["Example: ",(0,o.jsx)(n.code,{children:"GEOPULSE_UI_URL=http://192.168.1.100"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"GEOPULSE_POSTGRES_PASSWORD"})," (line 21) - Replace ",(0,o.jsx)(n.code,{children:"your_secure_password_here"})," with the password you set in step 6"]}),"\n"]}),"\n"]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Set secure permissions:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo chmod 640 /etc/geopulse/geopulse.env\nsudo chown geopulse:geopulse /etc/geopulse/geopulse.env\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"12-create-systemd-service",children:"12. Create Systemd Service"}),"\n",(0,o.jsx)(n.h3,{id:"for-native-backend-1",children:"For Native Backend"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"/etc/systemd/system/geopulse-backend.service"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo tee /etc/systemd/system/geopulse-backend.service > /dev/null << 'EOF'\n[Unit]\nDescription=GeoPulse Backend Service (Native)\nAfter=network.target postgresql.service\nWants=postgresql.service\n\n[Service]\nType=simple\nUser=geopulse\nGroup=geopulse\nWorkingDirectory=/opt/geopulse/backend\nEnvironmentFile=/etc/geopulse/geopulse.env\n\n# Start the native binary with GC options\nExecStart=/opt/geopulse/backend/geopulse-backend -Dquarkus.http.host=0.0.0.0 -XX:MaximumHeapSizePercent=70 -XX:MaximumYoungGenerationSizePercent=15\n\n# Restart policy\nRestart=on-failure\nRestartSec=10\n\n# Security hardening\nNoNewPrivileges=true\nPrivateTmp=true\nProtectSystem=strict\nProtectHome=true\nReadWritePaths=/var/lib/geopulse /var/log/geopulse /opt/geopulse/keys\n\n# Logging\nStandardOutput=append:/var/log/geopulse/backend/geopulse-stdout.log\nStandardError=append:/var/log/geopulse/backend/geopulse-stderr.log\n\n[Install]\nWantedBy=multi-user.target\nEOF\n"})}),"\n",(0,o.jsx)(n.h3,{id:"for-jvm-backend-1",children:"For JVM Backend"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"/etc/systemd/system/geopulse-backend.service"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo tee /etc/systemd/system/geopulse-backend.service > /dev/null << 'EOF'\n[Unit]\nDescription=GeoPulse Backend Service (JVM)\nAfter=network.target postgresql.service\nWants=postgresql.service\n\n[Service]\nType=simple\nUser=geopulse\nGroup=geopulse\nWorkingDirectory=/opt/geopulse/backend/quarkus-app\nEnvironmentFile=/etc/geopulse/geopulse.env\n\n# JVM options\nEnvironment=\"JAVA_OPTS=-Xmx512m -Xms128m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/lib/geopulse/dumps/\"\n\n# Start the JVM\nExecStart=/usr/bin/java ${JAVA_OPTS} -jar /opt/geopulse/backend/quarkus-app/quarkus-run.jar\n\n# Restart policy\nRestart=on-failure\nRestartSec=10\n\n# Security hardening\nNoNewPrivileges=true\nPrivateTmp=true\nProtectSystem=strict\nProtectHome=true\nReadWritePaths=/var/lib/geopulse /var/log/geopulse /opt/geopulse/keys\n\n# Logging\nStandardOutput=append:/var/log/geopulse/backend/geopulse-stdout.log\nStandardError=append:/var/log/geopulse/backend/geopulse-stderr.log\n\n[Install]\nWantedBy=multi-user.target\nEOF\n"})}),"\n",(0,o.jsx)(n.h3,{id:"reload-systemd-and-enable-service",children:"Reload Systemd and Enable Service"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nsudo systemctl enable geopulse-backend\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Service Startup",type:"note",children:(0,o.jsx)(n.p,{children:"Don't start the service yet - we'll do that in step 14 after configuring the web server."})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"13-configure-nginx-web-server",children:"13. Configure Nginx Web Server"}),"\n",(0,o.jsx)(n.h3,{id:"create-osm-tile-cache-directory",children:"Create OSM Tile Cache Directory"}),"\n",(0,o.jsx)(n.p,{children:"GeoPulse can cache OpenStreetMap tiles for better performance. Create the cache directory before configuring Nginx:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ubuntu/Debian:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /var/cache/nginx/osm_tiles\nsudo chown -R www-data:www-data /var/cache/nginx\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"RHEL/Rocky/Fedora:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /var/cache/nginx/osm_tiles\nsudo chown -R nginx:nginx /var/cache/nginx\n"})}),"\n",(0,o.jsx)(n.h3,{id:"create-nginx-configuration",children:"Create Nginx Configuration"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ubuntu/Debian:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo tee /etc/nginx/sites-available/geopulse > /dev/null << \'EOF\'\n# OSM tile cache configuration\nproxy_cache_path /var/cache/nginx/osm_tiles levels=1:2 keys_zone=osm_cache:100m max_size=10g inactive=30d use_temp_path=off;\n\n# Map for OSM tile subdomain selection\nmap $uri $osm_subdomain {\n    ~^/osm/tiles/a/ "a";\n    ~^/osm/tiles/b/ "b";\n    ~^/osm/tiles/c/ "c";\n    default "a";\n}\n\nserver {\n    listen 80;\n    server_name _;\n\n    root /var/www/geopulse;\n    index index.html;\n\n    # Maximum upload size (for GPX files, location imports, etc.)\n    client_max_body_size 100M;\n\n    # Gzip compression for better performance\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n    gzip_comp_level 6;\n    gzip_min_length 1000;\n\n    # Cache static assets (but exclude OSM tiles path)\n    location ~* ^/(?!osm/).*\\.(jpg|jpeg|png|gif|ico|css|js)$ {\n        expires 1y;\n        add_header Cache-Control "public, max-age=31536000";\n    }\n\n    # OSM tiles proxy with caching\n    location ^~ /osm/tiles/ {\n        resolver 8.8.8.8 valid=300s;\n        resolver_timeout 10s;\n\n        # Rewrite: /osm/tiles/a/19/299420/178830.png -> /19/299420/178830.png\n        rewrite ^/osm/tiles/[abc]/(.*)$ /$1 break;\n\n        proxy_pass https://$osm_subdomain.tile.openstreetmap.org;\n        proxy_cache osm_cache;\n        proxy_cache_key "$scheme$proxy_host$uri";\n        proxy_cache_valid 200 30d;\n        proxy_cache_valid 404 1m;\n        proxy_cache_valid 502 503 504 1m;\n        proxy_ignore_headers Cache-Control Expires Set-Cookie;\n        proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;\n        proxy_cache_background_update on;\n        proxy_cache_lock on;\n\n        proxy_set_header Cookie "";\n        proxy_set_header Authorization "";\n        proxy_set_header User-Agent "GeoPulse/1.16";\n        proxy_set_header Host $osm_subdomain.tile.openstreetmap.org;\n        proxy_http_version 1.1;\n        proxy_set_header Connection "";\n\n        proxy_connect_timeout 10s;\n        proxy_read_timeout 10s;\n\n        expires 30d;\n        add_header Cache-Control "public, immutable";\n        add_header X-Cache-Status $upstream_cache_status always;\n    }\n\n    # Backend API - reverse proxy with long timeouts for bulk operations\n    location /api/ {\n        proxy_pass http://localhost:8080/api/;\n\n        # Long timeouts for GPX imports and bulk operations (60 minutes)\n        proxy_connect_timeout 3600s;\n        proxy_send_timeout 3600s;\n        proxy_read_timeout 3600s;\n\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    # Handle all routes for SPA (Single Page Application)\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Security headers\n    add_header X-Frame-Options "SAMEORIGIN" always;\n    add_header X-Content-Type-Options "nosniff" always;\n    add_header X-XSS-Protection "1; mode=block" always;\n\n    # Logging\n    access_log /var/log/geopulse/nginx/access.log;\n    error_log /var/log/geopulse/nginx/error.log;\n}\nEOF\n\n# Enable the site\nsudo ln -s /etc/nginx/sites-available/geopulse /etc/nginx/sites-enabled/\nsudo rm -f /etc/nginx/sites-enabled/default\n\n# Test configuration\nsudo nginx -t\n\n# Restart Nginx\nsudo systemctl restart nginx\nsudo systemctl enable nginx\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"RHEL/Rocky/Fedora:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo tee /etc/nginx/conf.d/geopulse.conf > /dev/null << \'EOF\'\n# OSM tile cache configuration\nproxy_cache_path /var/cache/nginx/osm_tiles levels=1:2 keys_zone=osm_cache:100m max_size=10g inactive=30d use_temp_path=off;\n\n# Map for OSM tile subdomain selection\nmap $uri $osm_subdomain {\n    ~^/osm/tiles/a/ "a";\n    ~^/osm/tiles/b/ "b";\n    ~^/osm/tiles/c/ "c";\n    default "a";\n}\n\nserver {\n    listen 80;\n    server_name _;\n\n    root /var/www/geopulse;\n    index index.html;\n\n    # Maximum upload size (for GPX files, location imports, etc.)\n    client_max_body_size 100M;\n\n    # Gzip compression for better performance\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n    gzip_comp_level 6;\n    gzip_min_length 1000;\n\n    # Cache static assets (but exclude OSM tiles path)\n    location ~* ^/(?!osm/).*\\.(jpg|jpeg|png|gif|ico|css|js)$ {\n        expires 1y;\n        add_header Cache-Control "public, max-age=31536000";\n    }\n\n    # OSM tiles proxy with caching\n    location ^~ /osm/tiles/ {\n        resolver 8.8.8.8 valid=300s;\n        resolver_timeout 10s;\n\n        # Rewrite: /osm/tiles/a/19/299420/178830.png -> /19/299420/178830.png\n        rewrite ^/osm/tiles/[abc]/(.*)$ /$1 break;\n\n        proxy_pass https://$osm_subdomain.tile.openstreetmap.org;\n        proxy_cache osm_cache;\n        proxy_cache_key "$scheme$proxy_host$uri";\n        proxy_cache_valid 200 30d;\n        proxy_cache_valid 404 1m;\n        proxy_cache_valid 502 503 504 1m;\n        proxy_ignore_headers Cache-Control Expires Set-Cookie;\n        proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;\n        proxy_cache_background_update on;\n        proxy_cache_lock on;\n\n        proxy_set_header Cookie "";\n        proxy_set_header Authorization "";\n        proxy_set_header User-Agent "GeoPulse/1.16";\n        proxy_set_header Host $osm_subdomain.tile.openstreetmap.org;\n        proxy_http_version 1.1;\n        proxy_set_header Connection "";\n\n        proxy_connect_timeout 10s;\n        proxy_read_timeout 10s;\n\n        expires 30d;\n        add_header Cache-Control "public, immutable";\n        add_header X-Cache-Status $upstream_cache_status always;\n    }\n\n    # Backend API - reverse proxy with long timeouts for bulk operations\n    location /api/ {\n        proxy_pass http://localhost:8080/api/;\n\n        # Long timeouts for GPX imports and bulk operations (60 minutes)\n        proxy_connect_timeout 3600s;\n        proxy_send_timeout 3600s;\n        proxy_read_timeout 3600s;\n\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    # Handle all routes for SPA (Single Page Application)\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Security headers\n    add_header X-Frame-Options "SAMEORIGIN" always;\n    add_header X-Content-Type-Options "nosniff" always;\n    add_header X-XSS-Protection "1; mode=block" always;\n\n    # Logging\n    access_log /var/log/geopulse/nginx/access.log;\n    error_log /var/log/geopulse/nginx/error.log;\n}\nEOF\n\n# Test configuration\nsudo nginx -t\n\n# Restart Nginx\nsudo systemctl restart nginx\nsudo systemctl enable nginx\n'})}),"\n",(0,o.jsxs)(n.admonition,{title:"Configuration Details",type:"info",children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Port changes"}),": If you change the backend port from 8080, update ",(0,o.jsx)(n.code,{children:"proxy_pass http://localhost:8080/api/"})," in the Nginx configuration above. The backend port is set via ",(0,o.jsx)(n.code,{children:"QUARKUS_HTTP_PORT"})," in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})]}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"OSM tile caching"}),": The configuration includes OpenStreetMap tile caching (up to 10GB) for better performance. Tiles are cached for 30 days in ",(0,o.jsx)(n.code,{children:"/var/cache/nginx/osm_tiles"})]}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Upload size"}),": ",(0,o.jsx)(n.code,{children:"client_max_body_size"})," is set to 100M to support GPX file uploads and bulk location imports"]}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Timeouts"}),": API timeouts are set to 60 minutes (3600s) to support long-running operations like bulk imports"]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"14-start-and-verify-services",children:"14. Start and Verify Services"}),"\n",(0,o.jsx)(n.h3,{id:"start-the-backend",children:"Start the Backend"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start geopulse-backend\n"})}),"\n",(0,o.jsx)(n.h3,{id:"check-backend-status",children:"Check Backend Status"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status geopulse-backend\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You should see: ",(0,o.jsx)(n.code,{children:"Active: active (running)"})]}),"\n",(0,o.jsx)(n.h3,{id:"monitor-backend-logs",children:"Monitor Backend Logs"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Watch logs in real-time\nsudo journalctl -u geopulse-backend -f\n\n# Or check log file\nsudo tail -f /var/log/geopulse/backend/geopulse.log\n"})}),"\n",(0,o.jsx)(n.h3,{id:"test-backend-health-endpoint",children:"Test Backend Health Endpoint"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/api/health\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Expected response:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{"status":"success","message":null,"data":{"database":"UP","status":"UP"}}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"verify-database-connection",children:"Verify Database Connection"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check if Flyway migrations ran successfully\nsudo journalctl -u geopulse-backend | grep -i flyway\n"})}),"\n",(0,o.jsx)(n.p,{children:"You should see successful migration messages."}),"\n",(0,o.jsx)(n.h3,{id:"access-the-frontend",children:"Access the Frontend"}),"\n",(0,o.jsxs)(n.p,{children:["Open your browser and navigate to: ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"http://your-server-ip",children:"http://your-server-ip"})})]}),"\n",(0,o.jsx)(n.p,{children:"You should see the GeoPulse login page."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"post-installation",children:"Post-Installation"}),"\n",(0,o.jsx)(n.h3,{id:"create-first-admin-user",children:"Create First Admin User"}),"\n",(0,o.jsx)(n.admonition,{title:"Admin User Setup",type:"tip",children:(0,o.jsx)(n.p,{children:"Follow these steps to create your first administrator account:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Set admin email environment variable:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo bash -c 'echo \"GEOPULSE_ADMIN_EMAIL=admin@example.com\" >> /etc/geopulse/geopulse.env'\nsudo systemctl restart geopulse-backend\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open GeoPulse in browser"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Register with the admin email"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Your account will have admin privileges"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,o.jsx)(n.h3,{id:"applying-configuration-changes",children:"Applying Configuration Changes"}),"\n",(0,o.jsxs)(n.p,{children:["After modifying ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# 1. Restart the backend service to apply changes\nsudo systemctl restart geopulse-backend\n\n# 2. Verify the service started successfully\nsudo systemctl status geopulse-backend\n\n# 3. Check logs if there are issues\nsudo journalctl -u geopulse-backend -n 50\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Configuration Changes",type:"warning",children:(0,o.jsxs)(n.p,{children:["Changes to environment variables require a service restart. Frontend changes (Nginx config) require ",(0,o.jsx)(n.code,{children:"sudo systemctl restart nginx"}),"."]})}),"\n",(0,o.jsx)(n.h3,{id:"common-configuration-changes",children:"Common Configuration Changes"}),"\n",(0,o.jsx)(n.h4,{id:"change-backend-port",children:"Change Backend Port"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Update ",(0,o.jsx)(n.code,{children:"QUARKUS_HTTP_PORT"})," in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})]}),"\n",(0,o.jsxs)(n.li,{children:["Update ",(0,o.jsx)(n.code,{children:"proxy_pass http://localhost:8080"})," in Nginx config to match new port"]}),"\n",(0,o.jsxs)(n.li,{children:["Restart both services:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart geopulse-backend\nsudo systemctl restart nginx\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"add-allowed-origins-cors",children:"Add Allowed Origins (CORS)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Update ",(0,o.jsx)(n.code,{children:"GEOPULSE_UI_URL"})," in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})," (separate multiple domains with commas)"]}),"\n",(0,o.jsxs)(n.li,{children:["Restart backend: ",(0,o.jsx)(n.code,{children:"sudo systemctl restart geopulse-backend"})]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"monitoring-and-logs",children:"Monitoring and Logs"}),"\n",(0,o.jsx)(n.h3,{id:"backend-logs",children:"Backend Logs"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Systemd journal (recommended for troubleshooting):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# View recent logs\nsudo journalctl -u geopulse-backend -n 100\n\n# Follow logs in real-time\nsudo journalctl -u geopulse-backend -f\n\n# View logs since last boot\nsudo journalctl -u geopulse-backend -b\n\n# View logs for specific time period\nsudo journalctl -u geopulse-backend --since "1 hour ago"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Application log files:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Main application log\nsudo tail -f /var/log/geopulse/backend/geopulse.log\n\n# Standard output\nsudo tail -f /var/log/geopulse/backend/geopulse-stdout.log\n\n# Standard error (startup errors)\nsudo tail -f /var/log/geopulse/backend/geopulse-stderr.log\n"})}),"\n",(0,o.jsx)(n.h3,{id:"frontendnginx-logs",children:"Frontend/Nginx Logs"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Nginx access log (requests)\nsudo tail -f /var/log/geopulse/nginx/access.log\n\n# Nginx error log (errors, proxy issues)\nsudo tail -f /var/log/geopulse/nginx/error.log\n\n# Nginx status\nsudo systemctl status nginx\n\n# Test Nginx configuration\nsudo nginx -t\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"upgrading-geopulse",children:"Upgrading GeoPulse"}),"\n",(0,o.jsx)(n.h3,{id:"manual-upgrade-process",children:"Manual Upgrade Process"}),"\n",(0,o.jsx)(n.h4,{id:"1-download-new-version",children:"1. Download New Version"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Set new version\nNEW_VERSION=1.17.0\n\n# Create temporary directory\nmkdir -p /tmp/geopulse-upgrade\ncd /tmp/geopulse-upgrade\n\n# Download new artifacts\nwget https://github.com/tess1o/geopulse/releases/download/v${NEW_VERSION}/geopulse-frontend-${NEW_VERSION}.tar.gz\nwget https://github.com/tess1o/geopulse/releases/download/v${NEW_VERSION}/geopulse-backend-native-arm64-${NEW_VERSION}  # or your architecture\nwget https://github.com/tess1o/geopulse/releases/download/v${NEW_VERSION}/SHA256SUMS\n\n# Verify checksums\nsha256sum -c SHA256SUMS --ignore-missing\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Architecture Selection",type:"note",children:(0,o.jsx)(n.p,{children:"Adjust download links to match your architecture (arm64, amd64, compatible images, jvm, etc)."})}),"\n",(0,o.jsx)(n.h4,{id:"2-stop-services",children:"2. Stop Services"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl stop geopulse-backend\n"})}),"\n",(0,o.jsx)(n.h4,{id:"3-upgrade-backend",children:"3. Upgrade Backend"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# For native backend\nsudo cp geopulse-backend-native-arm64-${NEW_VERSION} /opt/geopulse/backend/geopulse-backend\nsudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n\n# For JVM backend\nsudo rm -rf /opt/geopulse/backend/quarkus-app\nsudo tar -xzf geopulse-backend-jvm-${NEW_VERSION}.tar.gz -C /opt/geopulse/backend\nsudo chown -R geopulse:geopulse /opt/geopulse/backend\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Architecture Selection",type:"note",children:(0,o.jsxs)(n.p,{children:["Adjust filename (",(0,o.jsx)(n.code,{children:"geopulse-backend-native-arm64-${NEW_VERSION}"}),") to match your architecture (arm64, amd64, compatible images, jvm, etc)."]})}),"\n",(0,o.jsx)(n.h4,{id:"4-upgrade-frontend",children:"4. Upgrade Frontend"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Remove old frontend files\nsudo rm -rf /var/www/geopulse/*\n\n# Extract new frontend\nsudo tar -xzf geopulse-frontend-${NEW_VERSION}.tar.gz -C /var/www/geopulse\n\n# Set permissions\nsudo chown -R www-data:www-data /var/www/geopulse  # Ubuntu/Debian\n# OR\nsudo chown -R nginx:nginx /var/www/geopulse  # RHEL/Rocky/Fedora\n"})}),"\n",(0,o.jsx)(n.h4,{id:"5-start-services",children:"5. Start Services"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Start backend\nsudo systemctl start geopulse-backend\n\n# Check status\nsudo systemctl status geopulse-backend\n\n# Verify health\ncurl http://localhost:8080/api/health\n"})}),"\n",(0,o.jsx)(n.h4,{id:"6-verify-upgrade",children:"6. Verify Upgrade"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check logs for successful startup\nsudo journalctl -u geopulse-backend -n 50\n\n# Access frontend in browser\n# Version should be visible in UI (bottom right corner or About page)\n"})}),"\n",(0,o.jsx)(n.h4,{id:"7-cleanup",children:"7. Cleanup"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"rm -rf /tmp/geopulse-upgrade\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"backend-wont-start",children:"Backend Won't Start"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Check service status:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status geopulse-backend\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Check logs for errors:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Recent logs\nsudo journalctl -u geopulse-backend -n 100\n\n# Startup errors\nsudo cat /var/log/geopulse/backend/geopulse-stderr.log\n"})}),"\n",(0,o.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,o.jsx)(n.h4,{id:"1-database-connection-failed",children:"1. Database Connection Failed"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Verify PostgreSQL is running: ",(0,o.jsx)(n.code,{children:"sudo systemctl status postgresql"})]}),"\n",(0,o.jsxs)(n.li,{children:["Check credentials in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})]}),"\n",(0,o.jsxs)(n.li,{children:["Test connection: ",(0,o.jsx)(n.code,{children:'sudo -u postgres psql -d geopulse -c "SELECT 1;"'})]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"2-port-already-in-use",children:"2. Port Already in Use"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Change ",(0,o.jsx)(n.code,{children:"QUARKUS_HTTP_PORT"})," in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})]}),"\n",(0,o.jsxs)(n.li,{children:["Update Nginx ",(0,o.jsx)(n.code,{children:"proxy_pass"})," port to match"]}),"\n",(0,o.jsx)(n.li,{children:"Restart services"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"3-permission-denied-binary-not-executable",children:"3. Permission Denied (Binary Not Executable)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo chmod +x /opt/geopulse/backend/geopulse-backend\nsudo chown geopulse:geopulse /opt/geopulse/backend/geopulse-backend\n"})}),"\n",(0,o.jsx)(n.h4,{id:"4-keys-not-found",children:"4. Keys Not Found"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Verify files exist: ",(0,o.jsx)(n.code,{children:"sudo ls -la /opt/geopulse/keys/"})]}),"\n",(0,o.jsxs)(n.li,{children:["Check paths in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"})," use ",(0,o.jsx)(n.code,{children:"file:"})," prefix"]}),"\n",(0,o.jsx)(n.li,{children:"Regenerate if needed (see Step 7)"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"5-timezone-error",children:"5. Timezone Error"}),"\n",(0,o.jsxs)(n.p,{children:["Error: ",(0,o.jsx)(n.code,{children:'could not stat file "/usr/share/zoneinfo/localtime"'})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install -y tzdata  # Ubuntu/Debian\n# or: sudo dnf install -y tzdata  # RHEL/Rocky/Fedora\nsudo ln -sf /usr/share/zoneinfo/UTC /etc/localtime\nsudo systemctl restart postgresql geopulse-backend\n"})}),"\n",(0,o.jsx)(n.h4,{id:"6-extension-permission-denied",children:"6. Extension Permission Denied"}),"\n",(0,o.jsxs)(n.p,{children:["Error: ",(0,o.jsx)(n.code,{children:'permission denied to create extension "postgis_topology"'})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo -u postgres psql -d geopulse -c "CREATE EXTENSION IF NOT EXISTS postgis_topology;"\nsudo systemctl restart geopulse-backend\n'})}),"\n",(0,o.jsx)(n.h3,{id:"frontend-not-loading",children:"Frontend Not Loading"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Check Nginx:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Nginx status\nsudo systemctl status nginx\n\n# Test configuration\nsudo nginx -t\n\n# Restart if needed\nsudo systemctl restart nginx\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Verify files:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check frontend files exist\nls -la /var/www/geopulse/\n# Should show: index.html, assets/, etc.\n\n# Check permissions\nsudo chown -R www-data:www-data /var/www/geopulse  # Ubuntu/Debian\n# OR\nsudo chown -R nginx:nginx /var/www/geopulse  # RHEL/Rocky/Fedora\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Check Nginx logs:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo tail -50 /var/log/geopulse/nginx/error.log\n"})}),"\n",(0,o.jsx)(n.h3,{id:"request-failed-with-status-code-403-cors-error",children:"Request Failed with Status Code 403 (CORS Error)"}),"\n",(0,o.jsx)(n.p,{children:"This error means the backend is rejecting requests from your frontend URL due to CORS policy."}),"\n",(0,o.jsx)(n.admonition,{title:"How to Fix",type:"tip",children:(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Add your domain/IP to ",(0,o.jsx)(n.code,{children:"GEOPULSE_UI_URL"})," in ",(0,o.jsx)(n.code,{children:"/etc/geopulse/geopulse.env"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Single domain\nGEOPULSE_UI_URL=http://your-server-ip\n\n# Multiple domains (separate with commas)\nGEOPULSE_UI_URL=http://192.168.1.100,http://example.com,https://example.com\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Restart backend:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart geopulse-backend\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Clear browser cache and reload"}),"\n"]}),"\n"]})}),"\n",(0,o.jsx)(n.h3,{id:"api-calls-failing--cannot-connect-to-backend",children:"API Calls Failing / Cannot Connect to Backend"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Test backend directly:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/api/health\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"If backend responds but frontend can't connect:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Check Nginx proxy configuration has correct backend port"}),"\n",(0,o.jsxs)(n.li,{children:["Check Nginx logs: ",(0,o.jsx)(n.code,{children:"sudo tail -f /var/log/geopulse/nginx/error.log"})]}),"\n",(0,o.jsxs)(n.li,{children:["Verify Nginx is running: ",(0,o.jsx)(n.code,{children:"sudo systemctl status nginx"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"If backend doesn't respond:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Check backend is running: ",(0,o.jsx)(n.code,{children:"sudo systemctl status geopulse-backend"})]}),"\n",(0,o.jsxs)(n.li,{children:["Check backend logs: ",(0,o.jsx)(n.code,{children:"sudo journalctl -u geopulse-backend -n 50"})]}),"\n",(0,o.jsx)(n.li,{children:"Verify backend port matches Nginx proxy_pass"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>t});var r=s(6540);const o={},i=r.createContext(o);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);